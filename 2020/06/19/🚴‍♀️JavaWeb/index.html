<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ğŸš´â€â™€ï¸JavaWeb | lenoard_shannon</title><meta name="description" content="ğŸ¤”JAVAWEBwebåº”ç”¨ç¨‹åºweb appï¼šå¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åºï¼š  ä½ ä»¬ièƒ½è®¿é—®åˆ°çš„ä»»ä½•ä¸€ä¸ªé¡µé¢å’Œèµ„æºï¼Œéƒ½å­˜åœ¨äºè¿™ä¸ªä¸–ç•Œçš„æŸä¸€ä¸ªè§’è½çš„è®¡ç®—æœºé‡Œã€‚ URL (Uniform Resource Locator) è¿™ä¸ªç»Ÿä¸€çš„webèµ„æºä¼šè¢«æˆ¿å­å•ŠåŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¹‹ä¸‹ï¼Œweb app-&gt;tomcat:server ä¸€ä¸ªwebåº”ç”¨ç”±å¤šéƒ¨ä»½ç»„æˆï¼ˆé™æ€å’ŒåŠ¨æ€ï¼‰ html css js jsp serv"><meta name="keywords" content="JAVAWEB"><meta name="author" content="lenoard_shannon"><meta name="copyright" content="lenoard_shannon"><meta name="format-detection" content="telephone=no"><link rel="shortcut icon" href="/img/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="dns-prefetch" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="https://fonts.googleapis.com" crossorigin="crossorigin"/><link rel="dns-prefetch" href="https://fonts.googleapis.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="dns-prefetch" href="//busuanzi.ibruce.info"/><meta name="twitter:card" content="summary"><meta name="twitter:title" content="ğŸš´â€â™€ï¸JavaWeb"><meta name="twitter:description" content="ğŸ¤”JAVAWEBwebåº”ç”¨ç¨‹åºweb appï¼šå¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åºï¼š  ä½ ä»¬ièƒ½è®¿é—®åˆ°çš„ä»»ä½•ä¸€ä¸ªé¡µé¢å’Œèµ„æºï¼Œéƒ½å­˜åœ¨äºè¿™ä¸ªä¸–ç•Œçš„æŸä¸€ä¸ªè§’è½çš„è®¡ç®—æœºé‡Œã€‚ URL (Uniform Resource Locator) è¿™ä¸ªç»Ÿä¸€çš„webèµ„æºä¼šè¢«æˆ¿å­å•ŠåŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¹‹ä¸‹ï¼Œweb app-&gt;tomcat:server ä¸€ä¸ªwebåº”ç”¨ç”±å¤šéƒ¨ä»½ç»„æˆï¼ˆé™æ€å’ŒåŠ¨æ€ï¼‰ html css js jsp serv"><meta name="twitter:image" content="https://i.loli.net/2020/06/19/x8f2crNAtXpOvUE.jpg"><meta property="og:type" content="article"><meta property="og:title" content="ğŸš´â€â™€ï¸JavaWeb"><meta property="og:url" content="http://yoursite.com/2020/06/19/%F0%9F%9A%B4%E2%80%8D%E2%99%80%EF%B8%8FJavaWeb/"><meta property="og:site_name" content="lenoard_shannon"><meta property="og:description" content="ğŸ¤”JAVAWEBwebåº”ç”¨ç¨‹åºweb appï¼šå¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åºï¼š  ä½ ä»¬ièƒ½è®¿é—®åˆ°çš„ä»»ä½•ä¸€ä¸ªé¡µé¢å’Œèµ„æºï¼Œéƒ½å­˜åœ¨äºè¿™ä¸ªä¸–ç•Œçš„æŸä¸€ä¸ªè§’è½çš„è®¡ç®—æœºé‡Œã€‚ URL (Uniform Resource Locator) è¿™ä¸ªç»Ÿä¸€çš„webèµ„æºä¼šè¢«æˆ¿å­å•ŠåŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¹‹ä¸‹ï¼Œweb app-&gt;tomcat:server ä¸€ä¸ªwebåº”ç”¨ç”±å¤šéƒ¨ä»½ç»„æˆï¼ˆé™æ€å’ŒåŠ¨æ€ï¼‰ html css js jsp serv"><meta property="og:image" content="https://i.loli.net/2020/06/19/x8f2crNAtXpOvUE.jpg"><meta property="article:published_time" content="2020-06-19T06:29:02.865Z"><meta property="article:modified_time" content="2020-07-10T11:39:06.286Z"><script src="https://cdn.jsdelivr.net/npm/js-cookie/dist/js.cookie.min.js"></script><script>var autoChangeMode = '1'
var t = Cookies.get("theme")
if (autoChangeMode == '1'){
  var isDarkMode = window.matchMedia("(prefers-color-scheme: dark)").matches
  var isLightMode = window.matchMedia("(prefers-color-scheme: light)").matches
  var isNotSpecified = window.matchMedia("(prefers-color-scheme: no-preference)").matches
  var hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

  if (t === undefined){
    if (isLightMode) activateLightMode()
    else if (isDarkMode) activateDarkMode()
    else if (isNotSpecified || hasNoSupport){
      console.log('You specified no preference for a color scheme or your browser does not support it. I Schedule dark mode during night time.')
      var now = new Date()
      var hour = now.getHours()
      var isNight = hour < 6 || hour >= 18
      isNight ? activateDarkMode() : activateLightMode()
  }
  } else if (t == 'light') activateLightMode()
  else activateDarkMode()

} else if (autoChangeMode == '2'){
  now = new Date();
  hour = now.getHours();
  isNight = hour < 6 || hour >= 18
  if(t === undefined) isNight? activateDarkMode() : activateLightMode()
  else if (t === 'light') activateLightMode()
  else activateDarkMode() 
} else {
  if ( t == 'dark' ) activateDarkMode()
  else if ( t == 'light') activateLightMode()
}

function activateDarkMode(){
  document.documentElement.setAttribute('data-theme', 'dark')
  if (document.querySelector('meta[name="theme-color"]') !== null){
    document.querySelector('meta[name="theme-color"]').setAttribute('content','#000')
  }
}
function activateLightMode(){
  document.documentElement.setAttribute('data-theme', 'light')
  if (document.querySelector('meta[name="theme-color"]') !== null){
  document.querySelector('meta[name="theme-color"]').setAttribute('content','#fff')
  }
}</script><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css"><link rel="canonical" href="http://yoursite.com/2020/06/19/%F0%9F%9A%B4%E2%80%8D%E2%99%80%EF%B8%8FJavaWeb/"><link rel="prev" title="Heap" href="http://yoursite.com/2020/07/12/Heap/"><link rel="next" title="ğŸš¤JavaScript(ä¸€)åŸºç¡€" href="http://yoursite.com/2020/06/16/%F0%9F%9A%A4JavaScript(%E4%B8%80)%E5%9F%BA%E7%A1%80/"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Titillium+Web"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"cookieDomain":"https://xxx/","msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç°¡"},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  bookmark: {
    message_prev: 'Press',
    message_next: 'to bookmark this page'
  },
  runtime_unit: 'days',
  runtime: true,
  copyright: undefined,
  ClickShowText: undefined,
  medium_zoom: true,
  fancybox: true,
  Snackbar: {"bookmark":{"message_prev":"Press","message_next":"to bookmark this page"},"chs_to_cht":"Traditional Chinese Activated Manually","cht_to_chs":"Simplified Chinese Activated Manually","day_to_night":"Dark Mode Activated Manually","night_to_day":"Light Mode Activated Manually","bgLight":"#49b1f5","bgDark":"#2d3035","position":"bottom-left"},
  baiduPush: false,
  highlightCopy: true,
  highlightLang: true,
  highlightShrink: 'false',
  isFontAwesomeV5: false,
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: true
  
}</script><script>var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isSidebar: true  
  }</script><noscript><style>
#page-header {
  opacity: 1
}
.justified-gallery img{
  opacity: 1
}
</style></noscript><meta name="generator" content="Hexo 4.2.0"></head><body><div id="mobile-sidebar"><div id="menu_mask"></div><div id="mobile-sidebar-menus"><div class="mobile_author_icon"><img class="avatar-img" src="https://i.loli.net/2020/05/06/PIiEzg4X3wlx7N9.jpg" onerror="onerror=null;src='https://i.loli.net/2020/05/06/PIiEzg4X3wlx7N9.jpg'" alt="avatar"/></div><div class="mobile_post_data"><div class="mobile_data_item is-center"><div class="mobile_data_link"><a href="/archives/"><div class="headline">Articles</div><div class="length_num">17</div></a></div></div><div class="mobile_data_item is-center">      <div class="mobile_data_link"><a href="/tags/"><div class="headline">Tags</div><div class="length_num">11</div></a></div></div><div class="mobile_data_item is-center">     <div class="mobile_data_link"><a href="/categories/"><div class="headline">Categories</div><div class="length_num">4</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div></div></div><i class="fa fa-arrow-right on" id="toggle-sidebar" aria-hidden="true">     </i><div id="sidebar"><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar">     </div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ğŸ¤”JAVAWEB"><span class="toc-number">1.</span> <span class="toc-text">ğŸ¤”JAVAWEB</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#webåº”ç”¨ç¨‹åº"><span class="toc-number">1.1.</span> <span class="toc-text">webåº”ç”¨ç¨‹åº</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#é™æ€web"><span class="toc-number">1.2.</span> <span class="toc-text">é™æ€web</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#åŠ¨æ€web"><span class="toc-number">1.3.</span> <span class="toc-text">åŠ¨æ€web</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#â˜-Web-Server"><span class="toc-number">2.</span> <span class="toc-text">â˜ Web Server</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#webæŠ€æœ¯"><span class="toc-number">2.1.</span> <span class="toc-text">webæŠ€æœ¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#webæœåŠ¡å™¨"><span class="toc-number">2.2.</span> <span class="toc-text">webæœåŠ¡å™¨</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ğŸ˜¼-Tomcat"><span class="toc-number">3.</span> <span class="toc-text">ğŸ˜¼ Tomcat</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#å¯åŠ¨é…ç½®"><span class="toc-number">3.1.</span> <span class="toc-text">å¯åŠ¨é…ç½®</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ğŸ§›â€â™€ï¸å‘å¸ƒä¸€ä¸ªwebç½‘ç«™"><span class="toc-number">3.2.</span> <span class="toc-text">ğŸ§›â€â™€ï¸å‘å¸ƒä¸€ä¸ªwebç½‘ç«™</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ğŸ‘¨â€ğŸ“-Http"><span class="toc-number">4.</span> <span class="toc-text">ğŸ‘¨â€ğŸ“ Http</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ä»€ä¹ˆæ˜¯HTTP"><span class="toc-number">4.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯HTTP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸¤ä¸ªæ—¶ä»£"><span class="toc-number">4.2.</span> <span class="toc-text">ä¸¤ä¸ªæ—¶ä»£</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Httpè¯·æ±‚"><span class="toc-number">4.3.</span> <span class="toc-text">Httpè¯·æ±‚</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è¯·æ±‚è¡Œ"><span class="toc-number">4.3.1.</span> <span class="toc-text">è¯·æ±‚è¡Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ¶ˆæ¯å¤´"><span class="toc-number">4.3.2.</span> <span class="toc-text">æ¶ˆæ¯å¤´</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Httpå“åº”"><span class="toc-number">4.4.</span> <span class="toc-text">Httpå“åº”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#å“åº”ä½“"><span class="toc-number">4.4.1.</span> <span class="toc-text">å“åº”ä½“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#å“åº”çŠ¶æ€ç "><span class="toc-number">4.4.2.</span> <span class="toc-text">å“åº”çŠ¶æ€ç </span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ğŸ˜¨-Maven"><span class="toc-number">5.</span> <span class="toc-text">ğŸ˜¨ Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·"><span class="toc-number">5.1.</span> <span class="toc-text">Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ä¸‹è½½å®‰è£…Maven"><span class="toc-number">5.2.</span> <span class="toc-text">ä¸‹è½½å®‰è£…Maven</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#AliYuné•œåƒ"><span class="toc-number">5.3.</span> <span class="toc-text">AliYuné•œåƒ</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æœ¬åœ°ä»“åº“"><span class="toc-number">5.4.</span> <span class="toc-text">æœ¬åœ°ä»“åº“</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#åœ¨IDEAä¸­ä½¿ç”¨Maven"><span class="toc-number">6.</span> <span class="toc-text">åœ¨IDEAä¸­ä½¿ç”¨Maven</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ï¼ˆä¸ç”¨mavenæ¨¡æ¿çš„ï¼‰"><span class="toc-number">6.1.</span> <span class="toc-text">åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ï¼ˆä¸ç”¨mavenæ¨¡æ¿çš„ï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½"><span class="toc-number">6.2.</span> <span class="toc-text">æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEAé‡Œé…ç½®Tomcat"><span class="toc-number">6.3.</span> <span class="toc-text">IDEAé‡Œé…ç½®Tomcat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#POMæ–‡ä»¶"><span class="toc-number">6.4.</span> <span class="toc-text">POMæ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IDEA-ç›®å½•æ ‘"><span class="toc-number">6.5.</span> <span class="toc-text">IDEA ç›®å½•æ ‘</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Servlet"><span class="toc-number">7.</span> <span class="toc-text">Servlet</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ç®€ä»‹"><span class="toc-number">7.1.</span> <span class="toc-text">ç®€ä»‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HelloServlet"><span class="toc-number">7.2.</span> <span class="toc-text">HelloServlet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ServletContext"><span class="toc-number">7.3.</span> <span class="toc-text">ServletContext</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#æ•°æ®å…±äº«"><span class="toc-number">7.3.1.</span> <span class="toc-text">æ•°æ®å…±äº«</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è·å–åˆå§‹åŒ–å‚æ•°-ç°å®ä¸­å¾ˆå°‘ç”¨"><span class="toc-number">7.4.</span> <span class="toc-text">è·å–åˆå§‹åŒ–å‚æ•°(ç°å®ä¸­å¾ˆå°‘ç”¨)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è¯·æ±‚è½¬å‘"><span class="toc-number">7.5.</span> <span class="toc-text">è¯·æ±‚è½¬å‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#è¯»å–èµ„æºæ–‡ä»¶"><span class="toc-number">7.6.</span> <span class="toc-text">è¯»å–èµ„æºæ–‡ä»¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HttpServletResponse"><span class="toc-number">7.7.</span> <span class="toc-text">HttpServletResponse</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ç®€å•åˆ†ç±»"><span class="toc-number">7.7.1.</span> <span class="toc-text">ç®€å•åˆ†ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#æ–‡ä»¶ä¸‹è½½"><span class="toc-number">7.7.2.</span> <span class="toc-text">æ–‡ä»¶ä¸‹è½½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#éªŒè¯ç ï¼ˆå°±å½“ç»ƒæ‰‹äº†ï¼‰"><span class="toc-number">7.7.3.</span> <span class="toc-text">éªŒè¯ç ï¼ˆå°±å½“ç»ƒæ‰‹äº†ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#é‡å®šå‘ï¼ˆæŒæ¡ï¼‰"><span class="toc-number">7.7.4.</span> <span class="toc-text">é‡å®šå‘ï¼ˆæŒæ¡ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HttpServletRequest"><span class="toc-number">7.8.</span> <span class="toc-text">HttpServletRequest</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#è·å–å‚æ•°-è¯·æ±‚è½¬å‘"><span class="toc-number">7.8.1.</span> <span class="toc-text">è·å–å‚æ•°,è¯·æ±‚è½¬å‘</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Cookie-Session"><span class="toc-number">8.</span> <span class="toc-text">Cookie Session</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Cookie"><span class="toc-number">8.1.</span> <span class="toc-text">Cookie</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Session-é‡ç‚¹"><span class="toc-number">8.2.</span> <span class="toc-text">Session(é‡ç‚¹)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"><span class="toc-number">8.2.1.</span> <span class="toc-text">ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JSP"><span class="toc-number">9.</span> <span class="toc-text">JSP</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ä»€ä¹ˆæ˜¯JSP"><span class="toc-number">9.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯JSP</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#JSPåŸç†"><span class="toc-number">9.2.</span> <span class="toc-text">JSPåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JSPåŸºç¡€è¯­æ³•"><span class="toc-number">9.2.1.</span> <span class="toc-text">JSPåŸºç¡€è¯­æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JspæŒ‡ä»¤"><span class="toc-number">9.2.2.</span> <span class="toc-text">JspæŒ‡ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#9å¤§å†…ç½®å¯¹è±¡"><span class="toc-number">9.2.3.</span> <span class="toc-text">9å¤§å†…ç½®å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼"><span class="toc-number">9.2.4.</span> <span class="toc-text">JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JavaBean"><span class="toc-number">10.</span> <span class="toc-text">JavaBean</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#MVCä¸‰å±‚æ¶æ„"><span class="toc-number">11.</span> <span class="toc-text">MVCä¸‰å±‚æ¶æ„</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ä»¥å‰çš„æ¶æ„"><span class="toc-number">11.1.</span> <span class="toc-text">ä»¥å‰çš„æ¶æ„</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MVCä¸‰å±‚æ¶æ„-1"><span class="toc-number">11.2.</span> <span class="toc-text">MVCä¸‰å±‚æ¶æ„</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Filterï¼ˆé‡ç‚¹ï¼‰"><span class="toc-number">12.</span> <span class="toc-text">Filterï¼ˆé‡ç‚¹ï¼‰</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#ç›‘å¬å™¨"><span class="toc-number">13.</span> <span class="toc-text">ç›‘å¬å™¨</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JDBC"><span class="toc-number">14.</span> <span class="toc-text">JDBC</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#SMBMS-è¶…å¸‚ç®¡ç†é¡¹ç›®"><span class="toc-number">15.</span> <span class="toc-text">SMBMS(è¶…å¸‚ç®¡ç†é¡¹ç›®)</span></a></li></ol></div></div></div><div id="body-wrap"><div class="post-bg" id="nav" style="background-image: url(https://i.loli.net/2020/06/19/x8f2crNAtXpOvUE.jpg)"><div id="page-header"><span class="pull_left" id="blog_name"><a class="blog_title" id="site-name" href="/">lenoard_shannon</a></span><span class="pull_right menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fa fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fa fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fa fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa fa-heart"></i><span> About</span></a></div><div class="menus_item"><a class="site-page"><i class="fa-fw fa fa-list" aria-hidden="true"></i><span> List</span><i class="fa fa-chevron-down menus-expand" aria-hidden="true"></i></a><ul class="menus_item_child"><li><a class="site-page" href="/music/"><i class="fa-fw fa fa-music"></i><span> Music</span></a></li><li><a class="site-page" href="/movies/"><i class="fa-fw fa fa-film"></i><span> Movie</span></a></li></ul></div></div><span class="toggle-menu close"><a class="site-page"><i class="fa fa-bars fa-fw" aria-hidden="true"></i></a></span></span></div><div id="post-info"><div id="post-title"><div class="posttitle">ğŸš´â€â™€ï¸JavaWeb</div></div><div id="post-meta"><div class="meta-firstline"><time class="post-meta__date"><span class="post-meta__date-created" title="Created 2020-06-19 14:29:02"><i class="fa fa-calendar" aria-hidden="true"></i> Created 2020-06-19</span><span class="post-meta__separator">|</span><span class="post-meta__date-updated" title="Updated 2020-07-10 19:39:06"><i class="fa fa-history" aria-hidden="true"></i> Updated 2020-07-10</span></time><span class="post-meta__categories"><span class="post-meta__separator">|</span><i class="fa fa-inbox post-meta__icon" aria-hidden="true"></i><a class="post-meta__categories" href="/categories/WEB/">WEB</a></span></div><div class="meta-secondline"> </div><div class="meta-thirdline"><span class="post-meta-pv-cv"><i class="fa fa-eye post-meta__icon" aria-hidden="true"> </i><span>Post View:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-commentcount"></span></div></div></div></div><main class="layout_post" id="content-inner"><article id="post"><div class="post-content" id="article-container"><h1 id="ğŸ¤”JAVAWEB"><a href="#ğŸ¤”JAVAWEB" class="headerlink" title="ğŸ¤”JAVAWEB"></a>ğŸ¤”JAVAWEB</h1><h2 id="webåº”ç”¨ç¨‹åº"><a href="#webåº”ç”¨ç¨‹åº" class="headerlink" title="webåº”ç”¨ç¨‹åº"></a>webåº”ç”¨ç¨‹åº</h2><p>web appï¼šå¯ä»¥æä¾›æµè§ˆå™¨è®¿é—®çš„ç¨‹åºï¼š</p>
<ol>
<li>ä½ ä»¬ièƒ½è®¿é—®åˆ°çš„ä»»ä½•ä¸€ä¸ªé¡µé¢å’Œèµ„æºï¼Œéƒ½å­˜åœ¨äºè¿™ä¸ªä¸–ç•Œçš„æŸä¸€ä¸ªè§’è½çš„è®¡ç®—æœºé‡Œã€‚</li>
<li>URL (Uniform Resource Locator)</li>
<li>è¿™ä¸ªç»Ÿä¸€çš„webèµ„æºä¼šè¢«æˆ¿å­å•ŠåŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¹‹ä¸‹ï¼Œweb app-&gt;<br>tomcat:server</li>
<li>ä¸€ä¸ªwebåº”ç”¨ç”±å¤šéƒ¨ä»½ç»„æˆï¼ˆé™æ€å’ŒåŠ¨æ€ï¼‰<ol>
<li>html css js</li>
<li>jsp servlet</li>
<li>javaç¨‹åº</li>
<li>jaråŒ…</li>
<li>é…ç½®æ–‡ä»¶Properties</li>
</ol>
</li>
</ol>
<p>webåº”ç”¨ç¨‹åºç¼–å†™å®Œæ¯•åï¼Œè‹¥æƒ³ç»™å¤–ç•Œè®¿é—®ï¼Œéœ€è¦ä¸€ä¸ªæœåŠ¡å™¨æ¥ç»Ÿä¸€ç®¡ç†</p>
<h2 id="é™æ€web"><a href="#é™æ€web" class="headerlink" title="é™æ€web"></a>é™æ€web</h2><p><img src="https://i.loli.net/2020/06/21/OLpKdnE23exws9l.png" alt=""></p>
<h2 id="åŠ¨æ€web"><a href="#åŠ¨æ€web" class="headerlink" title="åŠ¨æ€web"></a>åŠ¨æ€web</h2><p>é¡µé¢ä¼šåŠ¨æ€å±•ç¤º<br><img src="https://i.loli.net/2020/06/21/x8ZbtVSHznfl7GQ.png" alt=""></p>
<blockquote>
<p>ç¼ºç‚¹</p>
</blockquote>
<ol>
<li>æœåŠ¡å™¨çš„åŠ¨æ€webèµ„æºå‡ºäº†é”™è¯¯ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°ç¼–å†™<strong>ç¨‹åº</strong>é‡æ–°å‘å¸ƒ<ol>
<li>åœæœºç»´æŠ¤</li>
</ol>
</li>
</ol>
<blockquote>
<p>ä¼˜ç‚¹</p>
</blockquote>
<ol>
<li>webå¯ä»¥åŠ¨æ€æ›´æ–°ï¼Œåƒäººåƒé¢</li>
<li>å¯ä»¥ä¸æ•°æ®åº“äº¤äº’ åƒJDBCã€‚ <strong>å¯ä»¥åšæ•°æ®æŒä¹…åŒ–</strong></li>
</ol>
<h1 id="â˜-Web-Server"><a href="#â˜-Web-Server" class="headerlink" title="â˜ Web Server"></a>â˜ Web Server</h1><h2 id="webæŠ€æœ¯"><a href="#webæŠ€æœ¯" class="headerlink" title="webæŠ€æœ¯"></a>webæŠ€æœ¯</h2><ul>
<li><p>ASP </p>
<ul>
<li>å¾®è½¯-å›½å†…æœ€æ—©æµè¡Œçš„</li>
<li>åœ¨HTMLä¸­åµŒå…¥äº†VBçš„è„šæœ¬ï¼ŒASP+COM</li>
<li>åœ¨ASPå¼€å‘ä¸­ï¼ŒåŸºæœ¬ä¸€ä¸ªé¡µé¢éƒ½æœ‰å‡ åƒè¡Œçš„ä¸šåŠ¡ä»£ç </li>
<li>C#  å†™çš„</li>
</ul>
</li>
<li><p>PHP</p>
<ul>
<li>å¼€å‘é€Ÿåº¦å¾ˆå¿«ï¼ŒåŠŸèƒ½å¾ˆå¼ºå¤§ï¼Œè·¨å¹³å°ï¼Œä»£ç å¾ˆç®€å•</li>
<li>æ— æ³•æ‰¿è½½å¤§è®¿é—®é‡çš„æƒ…å†µï¼ˆå±€é™æ€§ï¼‰</li>
</ul>
</li>
<li><p>JSP/Servlet</p>
<ul>
<li>B/Sæ¶æ„  Browser/Client</li>
<li>sunå…¬å¸ä¸»æ¨çš„B/Sæ¶æ„</li>
<li>åŸºäºjavaè¯­è¨€ï¼ˆæ‰€æœ‰å¤§å…¬å¸ï¼Œæˆ–ä¸€äº›å¼€æºçš„ç»„ä»¶ï¼Œéƒ½æ˜¯ç”¨javaå†™çš„ï¼‰</li>
<li>å¯ä»¥æ‰¿è½½ä¸‰é«˜é—®é¢˜å¸¦æ¥çš„å½±å“</li>
<li>è¯­æ³•å¾ˆåƒASP  ASp-&gt;jsp åŠ å¼ºå¸‚åœºå¼ºåº¦</li>
</ul>
</li>
</ul>
<h2 id="webæœåŠ¡å™¨"><a href="#webæœåŠ¡å™¨" class="headerlink" title="webæœåŠ¡å™¨"></a>webæœåŠ¡å™¨</h2><p>æœåŠ¡å™¨æ˜¯ä¸€ç§è¢«åŠ¨çš„æ“ä½œï¼Œç”¨æ¥å¤„ç†ç”¨æˆ·çš„ä¸€äº›è¯·æ±‚å’Œç”¨æˆ·ä¸€äº›å“åº”ä¿¡æ¯</p>
<p>IIS<br>å¾®è½¯çš„ASP ï¼Œwindowsæ˜¯è‡ªå¸¦çš„</p>
<p>Tomacatï¼šTomcatæ˜¯Apache è½¯ä»¶åŸºé‡‘ä¼šï¼ˆApache Software Foundationï¼‰çš„Jakarta é¡¹ç›®ä¸­çš„ä¸€ä¸ªæ ¸å¿ƒé¡¹ç›®ï¼Œç”±Apacheã€Sun å’Œå…¶ä»–ä¸€äº›å…¬å¸åŠä¸ªäººå…±åŒå¼€å‘è€Œæˆã€‚ç”±äºæœ‰äº†Sun çš„å‚ä¸å’Œæ”¯æŒï¼Œæœ€æ–°çš„Servlet å’ŒJSP è§„èŒƒæ€»æ˜¯èƒ½åœ¨Tomcat ä¸­å¾—åˆ°ä½“ç°ï¼ŒTomcat 5æ”¯æŒæœ€æ–°çš„Servlet 2.4 å’ŒJSP 2.0 è§„èŒƒã€‚å› ä¸ºTomcat æŠ€æœ¯å…ˆè¿›ã€æ€§èƒ½ç¨³å®šï¼Œè€Œä¸”å…è´¹ï¼Œå› è€Œæ·±å—Java çˆ±å¥½è€…çš„å–œçˆ±å¹¶å¾—åˆ°äº†éƒ¨åˆ†è½¯ä»¶å¼€å‘å•†çš„è®¤å¯ï¼Œæˆä¸ºç›®å‰æ¯”è¾ƒæµè¡Œçš„Web åº”ç”¨æœåŠ¡å™¨ã€‚javaåˆå­¦webçš„ä¸äºŒé€‰æ‹©</p>
<p>Tomcat æœåŠ¡å™¨æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æ”¾æºä»£ç çš„Web åº”ç”¨æœåŠ¡å™¨ï¼Œå±äºè½»é‡çº§åº”ç”¨æœåŠ¡å™¨ï¼Œåœ¨ä¸­å°å‹ç³»ç»Ÿå’Œå¹¶å‘è®¿é—®ç”¨æˆ·ä¸æ˜¯å¾ˆå¤šçš„åœºåˆä¸‹è¢«æ™®éä½¿ç”¨ï¼Œæ˜¯å¼€å‘å’Œè°ƒè¯•JSP ç¨‹åºçš„é¦–é€‰ã€‚å¯¹äºä¸€ä¸ªåˆå­¦è€…æ¥è¯´ï¼Œå¯ä»¥è¿™æ ·è®¤ä¸ºï¼Œå½“åœ¨ä¸€å°æœºå™¨ä¸Šé…ç½®å¥½Apache æœåŠ¡å™¨ï¼Œå¯åˆ©ç”¨å®ƒå“åº”HTMLï¼ˆæ ‡å‡†é€šç”¨æ ‡è®°è¯­è¨€ä¸‹çš„ä¸€ä¸ªåº”ç”¨ï¼‰é¡µé¢çš„è®¿é—®è¯·æ±‚ã€‚å®é™…ä¸ŠTomcatæ˜¯Apache æœåŠ¡å™¨çš„æ‰©å±•ï¼Œä½†è¿è¡Œæ—¶å®ƒæ˜¯ç‹¬ç«‹è¿è¡Œçš„ï¼Œæ‰€ä»¥å½“ä½ è¿è¡Œtomcat æ—¶ï¼Œå®ƒå®é™…ä¸Šä½œä¸ºä¸€ä¸ªä¸Apache ç‹¬ç«‹çš„è¿›ç¨‹å•ç‹¬è¿è¡Œçš„ã€‚</p>
<p>Tomcat å®é™…ä¸Šè¿è¡ŒJSP é¡µé¢å’ŒServletã€‚å¦å¤–ï¼ŒTomcatå’ŒIISç­‰WebæœåŠ¡å™¨ä¸€æ ·ï¼Œç›®å‰Tomcatæœ€æ–°ç‰ˆæœ¬ä¸º9.0.36ã€‚</p>
<p><strong>å·¥ä½œ3-5å¹´ä¹‹åï¼Œå¯ä»¥æ‰‹å†™TomcatæœåŠ¡å™¨ã€‚</strong></p>
<p>ä¸‹è½½tomcatï¼š</p>
<ol>
<li>å®‰è£…</li>
<li>äº†è§£é…ç½®æ–‡ä»¶åŠç›®å½•ç»“æ„</li>
<li>ä½œç”¨</li>
</ol>
<h1 id="ğŸ˜¼-Tomcat"><a href="#ğŸ˜¼-Tomcat" class="headerlink" title="ğŸ˜¼ Tomcat"></a>ğŸ˜¼ Tomcat</h1><h2 id="å¯åŠ¨é…ç½®"><a href="#å¯åŠ¨é…ç½®" class="headerlink" title="å¯åŠ¨é…ç½®"></a>å¯åŠ¨é…ç½®</h2><p>å¯åŠ¨.å…³é—­tomcat<br>biné‡Œçš„startupâ€”-å¯åŠ¨</p>
<p>åœ¨confé‡Œ server.xmlå¯ä»¥é…ç½®å¯åŠ¨ç«¯å£ï¼š</p>
<ul>
<li>tomcatçš„default ç«¯å£ 8080</li>
<li>mysql 3306</li>
<li>http 80</li>
<li>https 443</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8080"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span></span></span><br><span class="line"><span class="tag">               <span class="attr">redirectPort</span>=<span class="string">"8443"</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥é…ç½®ä¸»æœºçš„åç§°ï¼š<br>å¦‚æœæƒ³æ”¹åŸŸå<br>è¿›system32/hostsé‡Œ<br>æŠŠ127.0.0.1 æ·»åŠ ä¸€ä¸ªä¾‹å¦‚ leonardshannon.com</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Host</span> <span class="attr">name</span>=<span class="string">"leonardshannon.com"</span>  <span class="attr">appBase</span>=<span class="string">"webapps"</span></span></span><br><span class="line"><span class="tag">           <span class="attr">unpackWARs</span>=<span class="string">"true"</span> <span class="attr">autoDeploy</span>=<span class="string">"true"</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>ç„¶åè®¿é—®leonardshannon.com:8080ä¹Ÿå¯ä»¥è¿›åˆ°tomcat</p>
<p>é«˜éš¾åº¦é¢è¯•é¢˜:<br>è¯·ä½ è°ˆè°ˆç½‘ç«™æ—¶å¦‚ä½•è¿›è¡Œè®¿é—®çš„ï¼</p>
<ol>
<li><p>è¾“å…¥ä¸€ä¸ªåŸŸå</p>
</li>
<li><p>æ£€æŸ¥æœ¬æœºçš„hostsé…ç½®ä¸‹æœ‰æ²¡æœ‰è¿™ä¸ªåŸŸåçš„æ˜ å°„</p>
<ol>
<li><p>æœ‰ï¼šç›´æ¥è¿”å›å¯¹åº”çš„ipåœ°å€</p>
<ol>
<li>127.0.0.1 localhost</li>
</ol>
</li>
<li><p>æ²¡æœ‰ï¼šå»DNSæœåŠ¡å™¨ï¼Œæ‰¾åˆ°å°±è¿”å›ï¼Œæ‰¾ä¸åˆ°å°±æ— æ•ˆ<br><img src="https://i.loli.net/2020/06/22/CHAlpyicj43FfJP.png" alt=""></p>
</li>
</ol>
</li>
</ol>
<h2 id="ğŸ§›â€â™€ï¸å‘å¸ƒä¸€ä¸ªwebç½‘ç«™"><a href="#ğŸ§›â€â™€ï¸å‘å¸ƒä¸€ä¸ªwebç½‘ç«™" class="headerlink" title="ğŸ§›â€â™€ï¸å‘å¸ƒä¸€ä¸ªwebç½‘ç«™"></a>ğŸ§›â€â™€ï¸å‘å¸ƒä¸€ä¸ªwebç½‘ç«™</h2><p>ä¸ä¼šï¼Œå°±å…ˆç™½å«–å‘—ï¼</p>
<ul>
<li>å°†è‡ªå·±å†™çš„ç½‘ç«™ï¼Œæ”¾åˆ°Server(tomcat)ä¸­æŒ‡å®šçš„webåº”ç”¨çš„æ–‡ä»¶å¤¹(webapps)ï¼Œå°±å¯ä»¥è®¿é—®äº†ã€‚</li>
</ul>
<blockquote>
<p>ç½‘ç«™åº”æœ‰çš„ç»“æ„</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">--webapps:TomcatæœåŠ¡å™¨çš„webç›®å½•</span><br><span class="line">- Root </span><br><span class="line">- LeonardShannonStudyï¼šç½‘ç«™çš„ç›®å½•å</span><br><span class="line">   - index.html :é»˜è®¤çš„é¦–é¡µ</span><br><span class="line">   - WEB INF</span><br><span class="line">   - classes:javaç¨‹åº</span><br><span class="line">   -lib.webåº”ç”¨æ‰€ä¾èµ–çš„jaråŒ…</span><br><span class="line">   -web.xmlï¼šç½‘ç«™é…ç½®æ–‡ä»¶   </span><br><span class="line">- <span class="keyword">static</span> </span><br><span class="line">   -css</span><br><span class="line">     -style.css</span><br><span class="line">   -js</span><br><span class="line">   -img</span><br><span class="line">   ......</span><br></pre></td></tr></table></figure>

<p><strong>HTTPåè®®ï¼šé¢è¯•å¿…å¤‡</strong><br>Maven ï¼šæ„å»ºå·¥å…·<br>Servletå…¥é—¨</p>
<ul>
<li>HelloWorldï¼</li>
<li>Servleté…ç½®</li>
<li>åŸç†</li>
</ul>
<h1 id="ğŸ‘¨â€ğŸ“-Http"><a href="#ğŸ‘¨â€ğŸ“-Http" class="headerlink" title="ğŸ‘¨â€ğŸ“ Http"></a>ğŸ‘¨â€ğŸ“ Http</h1><h2 id="ä»€ä¹ˆæ˜¯HTTP"><a href="#ä»€ä¹ˆæ˜¯HTTP" class="headerlink" title="ä»€ä¹ˆæ˜¯HTTP"></a>ä»€ä¹ˆæ˜¯HTTP</h2><p>http(è¶…æ–‡æœ¬ä¼ è¾“åè®®)æ˜¯ä¸€ä¸ªç®€å•çš„è¯·æ±‚-å“åº”åè®®ï¼Œå®ƒé€šå¸¸è¿è¡Œåœ¨TCPä¹‹ä¸Šã€‚å®ƒæŒ‡å®šäº†å®¢æˆ·ç«¯å¯èƒ½å‘é€ç»™æœåŠ¡å™¨ä»€ä¹ˆæ ·çš„æ¶ˆæ¯ä»¥åŠå¾—åˆ°ä»€ä¹ˆæ ·çš„å“åº”ã€‚è¯·æ±‚å’Œå“åº”æ¶ˆæ¯çš„å¤´ä»¥ASCIIç å½¢å¼ç»™å‡ºï¼›è€Œæ¶ˆæ¯å†…å®¹åˆ™å…·æœ‰ä¸€ä¸ªç±»ä¼¼MIMEçš„æ ¼å¼ã€‚è¿™ä¸ªç®€å•æ¨¡å‹æ˜¯æ—©æœŸWebæˆåŠŸçš„æœ‰åŠŸä¹‹è‡£ï¼Œå› ä¸ºå®ƒä½¿å¾—å¼€å‘å’Œéƒ¨ç½²æ˜¯é‚£ä¹ˆçš„ç›´æˆªäº†å½“ã€‚</p>
<ul>
<li>æ–‡æœ¬ï¼šhtml å­—ç¬¦ä¸²</li>
<li>è¶…æ–‡æœ¬ï¼šå›¾ç‰‡ éŸ³ä¹ è§†é¢‘ å®šä½ åœ°å›¾</li>
<li>portï¼š80</li>
</ul>
<blockquote>
<p>Https port:43</p>
</blockquote>
<h2 id="ä¸¤ä¸ªæ—¶ä»£"><a href="#ä¸¤ä¸ªæ—¶ä»£" class="headerlink" title="ä¸¤ä¸ªæ—¶ä»£"></a>ä¸¤ä¸ªæ—¶ä»£</h2><ul>
<li>http1.0<ul>
<li>HTTP/1.0 å®¢æˆ·ç«¯å¯ä»¥ä¸webæœåŠ¡å™¨è¿æ¥ï¼Œåªèƒ½è·å¾—ä¸€ä¸ªwebèµ„æºï¼Œæ–­å¼€è¿æ¥</li>
</ul>
</li>
<li>http2.0<ul>
<li>HTTP/1.1 å®¢æˆ·ç«¯å¯ä»¥ä¸webæœåŠ¡å™¨è¿æ¥ï¼Œåªèƒ½è·å¾—å¤šä¸ªwebèµ„æº</li>
</ul>
</li>
</ul>
<h2 id="Httpè¯·æ±‚"><a href="#Httpè¯·æ±‚" class="headerlink" title="Httpè¯·æ±‚"></a>Httpè¯·æ±‚</h2><ul>
<li>å®¢æˆ·ç«¯â€“å‘è¯·æ±‚â€“æœåŠ¡å™¨<br>ç™¾åº¦:<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Request URL: https:<span class="comment">//www.baidu.com/ //è¯·æ±‚åœ°å€</span></span><br><span class="line">Request Method: GET  <span class="comment">//get postæ–¹æ³•</span></span><br><span class="line">Status Code: <span class="number">200</span> OK <span class="comment">//çŠ¶æ€ç  200 3xx 5xx</span></span><br><span class="line">Remote Address: <span class="number">14.215</span><span class="number">.177</span><span class="number">.38</span>:<span class="number">443</span> <span class="comment">//baidu.ip:port</span></span><br><span class="line">Referrer Policy: no-referrer-when-downgrade</span><br></pre></td></tr></table></figure>

</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Accept: text/html</span><br><span class="line">Accept-Encoding: gzip, deflate, br</span><br><span class="line">Accept-Language: zh-CN,zh;q=<span class="number">0.9</span></span><br><span class="line">Cache-Control: no-cache</span><br><span class="line">Connection: keep-alive</span><br></pre></td></tr></table></figure>

<h3 id="è¯·æ±‚è¡Œ"><a href="#è¯·æ±‚è¡Œ" class="headerlink" title="è¯·æ±‚è¡Œ"></a>è¯·æ±‚è¡Œ</h3><ul>
<li>è¯·æ±‚è¡Œä¸­çš„è¯·æ±‚æ–¹å¼ ï¼šGET</li>
<li>è¯·æ±‚æ–¹å¼ï¼šGet Post Head Delete Put Tract<ul>
<li>get:è¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ¯”è¾ƒå°‘ï¼Œå¤§å°ç”±é™åˆ¶ï¼Œä¼šåœ¨æµè§ˆå™¨urlåœ°å€æ æ˜¾ç¤ºæ•°æ®å†…å®¹ï¼Œä¸å®‰å…¨ï¼Œä½†é«˜æ•ˆ</li>
<li>postï¼šè¯·æ±‚èƒ½å¤Ÿæºå¸¦çš„å‚æ•°æ— é™åˆ¶ï¼Œå¤§å°æ— é™åˆ¶ï¼Œå®‰å…¨ï¼Œå´ä¸é«˜æ•ˆ<h3 id="æ¶ˆæ¯å¤´"><a href="#æ¶ˆæ¯å¤´" class="headerlink" title="æ¶ˆæ¯å¤´"></a>æ¶ˆæ¯å¤´</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Accept: å‘Šè¯‰æµè§ˆå™¨ï¼Œæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹</span><br><span class="line">Accept-Encoding: æ”¯æŒå“ªç§ç¼–ç æ ¼å¼ Gbk utf-<span class="number">8</span>...</span><br><span class="line">Accept-Language: è¯­è¨€ç¯å¢ƒ</span><br><span class="line">Cache-Control: ç¼“å­˜æ§åˆ¶</span><br><span class="line">Connection: è¿æ¥çš„ä¿æŒä¸å¦</span><br><span class="line">Host:ä¸»æœº..../...</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<h2 id="Httpå“åº”"><a href="#Httpå“åº”" class="headerlink" title="Httpå“åº”"></a>Httpå“åº”</h2><p>æœåŠ¡å™¨â€“å“åº”â€“å®¢æˆ·ç«¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Bdpagetype: <span class="number">1</span></span><br><span class="line">Bdqid: <span class="number">0xd49910c40000f49f</span></span><br><span class="line">Cache-Control: <span class="keyword">private</span>  <span class="comment">//ç¼“å­˜æ§åˆ¶</span></span><br><span class="line">Connection: keep-alive <span class="comment">//jdbcçš„è¿æ¥ ä¿æŒè¿æ¥</span></span><br><span class="line">Content-Encoding: gzip <span class="comment">//ç¼–ç </span></span><br><span class="line">Content-Type: text/html;charset=utf-<span class="number">8</span></span><br><span class="line">Date: Mon, <span class="number">22</span> Jun <span class="number">2020</span> <span class="number">07</span>:<span class="number">41</span>:<span class="number">28</span> GMT</span><br><span class="line">Expires: Mon, <span class="number">22</span> Jun <span class="number">2020</span> <span class="number">07</span>:<span class="number">41</span>:<span class="number">21</span> GMT</span><br><span class="line">Server: BWS/<span class="number">1.1</span></span><br></pre></td></tr></table></figure>

<h3 id="å“åº”ä½“"><a href="#å“åº”ä½“" class="headerlink" title="å“åº”ä½“"></a>å“åº”ä½“</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Accept: å‘Šè¯‰æµè§ˆå™¨ï¼Œæ‰€æ”¯æŒçš„æ•°æ®ç±»å‹</span><br><span class="line">Accept-Encoding: æ”¯æŒå“ªç§ç¼–ç æ ¼å¼ Gbk utf-<span class="number">8</span>...</span><br><span class="line">Accept-Language: è¯­è¨€ç¯å¢ƒ</span><br><span class="line">Cache-Control: ç¼“å­˜æ§åˆ¶</span><br><span class="line">Connection: è¿æ¥çš„ä¿æŒä¸å¦</span><br><span class="line">Host:ä¸»æœº..../...</span><br><span class="line">Refresh:å‘Šè¯‰å®¢æˆ·ç«¯ï¼Œå¤šä¹…åˆ·ä¸€æ¬¡</span><br><span class="line">Location:è®©ç½‘é¡µé‡æ–°å®šä½</span><br></pre></td></tr></table></figure>
<h3 id="å“åº”çŠ¶æ€ç "><a href="#å“åº”çŠ¶æ€ç " class="headerlink" title="å“åº”çŠ¶æ€ç "></a>å“åº”çŠ¶æ€ç </h3><ul>
<li><p>200 æ­£å¸¸ã€‚è¯·æ±‚å¤„ç†æ­£å¸¸</p>
</li>
<li><p>204 æ— å†…å®¹ã€‚æµè§ˆå™¨åº”è¯¥ç»§ç»­æ˜¾ç¤ºå‰é¢ç¼“å­˜ä¸­-çš„æ–‡æ¡£ã€‚</p>
</li>
<li><p>302 æ‰¾åˆ°ã€‚é‡å†™å‘å“åº”ä¸­Locationç»™å‡ºçš„URL</p>
</li>
<li><p>400 æ— æ•ˆè¯·æ±‚ã€‚è¯·æ±‚ä¸­æœ‰è¯­æ³•é”™è¯¯</p>
</li>
<li><p>404 æ‰¾ä¸åˆ°ã€‚è¯·æ±‚çš„èµ„æºæœªæ‰¾åˆ°</p>
</li>
<li><p>500 æœåŠ¡å™¨å†…å®¹é”™è¯¯ã€‚æœåŠ¡å™¨ç”±äºé‡åˆ°é”™è¯¯è€Œä¸èƒ½å®Œæˆè¯¥è¯·æ±‚ã€‚</p>
</li>
<li><p>503 æœåŠ¡ä¸å¯ç”¨ã€‚ç”±äºå½“å‰è´Ÿè½½è¿‡å¤§</p>
</li>
<li><p>2xx success æˆåŠŸçŠ¶æ€ç </p>
</li>
<li><p>3xx redirection é‡å®šå‘çŠ¶æ€ç </p>
<ul>
<li>é‡æ–°åˆ°æˆ‘ç»™ä½ çš„æ–°ä½ç½®é‡Œ</li>
</ul>
</li>
<li><p>4xx client error å®¢æˆ·ç«¯é”™è¯¯çŠ¶æ€ç </p>
</li>
<li><p>5xx server erroræœåŠ¡å™¨é”™è¯¯çŠ¶æ€ç </p>
</li>
</ul>
<p><strong>ç»å…¸é¢è¯•é¢˜</strong><br>å½“ä½ çš„æµè§ˆå™¨åœ°å€æ è¾“å…¥åœ°å€å¹¶å›è½¦çš„ä¸€ç¬é—´åˆ°é¡µé¢èƒ½å¤Ÿå±•ç¤ºå›æ¥ï¼Œç»å†äº†ä»€ä¹ˆï¼Ÿ</p>
<h1 id="ğŸ˜¨-Maven"><a href="#ğŸ˜¨-Maven" class="headerlink" title="ğŸ˜¨ Maven"></a>ğŸ˜¨ Maven</h1><p><strong>æˆ‘ä¸ºä½•è¦å­¦ä¹ è¿™ä¸ªæŠ€æœ¯ï¼Ÿ</strong></p>
<ol>
<li>åœ¨JavaWebå¼€å‘ä¸­ï¼Œéœ€è¦å¤§é‡çš„jaråŒ…ï¼Œæˆ‘ä»¬è¦æ‰‹åŠ¨å¯¼å…¥</li>
<li>å¦‚ä½•è®©ä¸€ä¸ªä¸œè¥¿è‡ªåŠ¨å¸®æˆ‘ä»¬å¯¼å…¥å’Œé…ç½®jaråŒ…ï¼Œç”±æ­¤Mavenè¯ç”Ÿ</li>
</ol>
<h2 id="Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·"><a href="#Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·" class="headerlink" title="Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·"></a>Mavené¡¹ç›®æ¶æ„ç®¡ç†å·¥å…·</h2><p><strong>æˆ‘ä»¬ç›®å‰ç”¨æ¥å°±æ˜¯æ–¹ä¾¿å¯¼å…¥jaråŒ…çš„ï¼</strong><br><strong>Mavençš„æ ¸å¿ƒæ€æƒ³ï¼šçº¦å®šå¤§äºé…ç½®</strong></p>
<ul>
<li>æœ‰çº¦æŸï¼Œä¸è¦å»è¿å</li>
</ul>
<p>Mavenä¼šè§„å®šå¥½ä½ å¦‚ä½•è®©å»ç¼–å†™æˆ‘ä»¬çš„javaä»£ç ï¼Œå¿…é¡»è¦æŒ‰ç…§è¿™ä¸ªè§„èŒƒæ¥</p>
<h2 id="ä¸‹è½½å®‰è£…Maven"><a href="#ä¸‹è½½å®‰è£…Maven" class="headerlink" title="ä¸‹è½½å®‰è£…Maven"></a>ä¸‹è½½å®‰è£…Maven</h2><p>å®‰è£…å¥½äº†ï¼Œé…ç½®ç¯å¢ƒå˜é‡</p>
<p>é…ç½®å¦‚ä¸‹:</p>
<ul>
<li>M2_HOME mavenç›®å½•ä¸‹çš„bin</li>
<li>MAVEN_HOME mavençš„ç›®å½•</li>
<li>åœ¨ç³»ç»Ÿçš„pathé‡Œé…ç½® %MAVEN_HOME%\bin<br><img src="https://i.loli.net/2020/06/22/cye3PXnFuJ9HT6K.png" alt=""></li>
</ul>
<h2 id="AliYuné•œåƒ"><a href="#AliYuné•œåƒ" class="headerlink" title="AliYuné•œåƒ"></a>AliYuné•œåƒ</h2><ul>
<li>é•œåƒMirrors  <ul>
<li>ä½œç”¨ ï¼š åŠ é€Ÿæˆ‘ä»¬çš„ä¸‹è½½</li>
</ul>
</li>
<li>å›½å†…æ¨èç”¨é˜¿é‡Œäº‘çš„</li>
<li><pre><code class="xml"> <span class="tag">&lt;<span class="name">mirror</span>&gt;</span>
      <span class="tag">&lt;<span class="name">id</span>&gt;</span>alimaven<span class="tag">&lt;/<span class="name">id</span>&gt;</span>
      <span class="tag">&lt;<span class="name">mirrorOf</span>&gt;</span>*,!jeecg,!jeecg-snapshots<span class="tag">&lt;/<span class="name">mirrorOf</span>&gt;</span>
      <span class="tag">&lt;<span class="name">name</span>&gt;</span>aliyun maven<span class="tag">&lt;/<span class="name">name</span>&gt;</span>
      <span class="tag">&lt;<span class="name">url</span>&gt;</span>http://maven.aliyun.com/nexus/content/repositories/central/<span class="tag">&lt;/<span class="name">url</span>&gt;</span>
  <span class="tag">&lt;/<span class="name">mirror</span>&gt;</span>
<span class="comment"><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">## POM</span><br><span class="line">Mavenç”±äºä»–çš„çº¦å®šå¤§äºé…ç½®ï¼Œæˆ‘ä»¬ä¹‹åå¯èƒ½é‡åˆ°æˆ‘ä»¬çš„å†™çš„é…ç½®æ–‡ä»¶ï¼Œæ— æ³•è¢«å¯¼å‡ºæˆ–è€…ç”Ÿæ•ˆçš„é—®é¢˜ï¼Œè§£å†³æ–¹æ¡ˆã€‚</span><br><span class="line">&#96;&#96;&#96; xml</span><br><span class="line">&lt;!-- åœ¨buildä¸­é…ç½®resourcesæ¥é˜²æ­¢æˆ‘ä»¬èµ„æºå¯¼å‡ºå¤±è´¥çš„é—®é¢˜ --&gt;</span><br><span class="line">&lt;build&gt;</span><br><span class="line">  &lt;resources&gt;</span><br><span class="line">    &lt;resource&gt;</span><br><span class="line">      &lt;directory&gt;src&#x2F;main&#x2F;resources&lt;&#x2F;directory&gt;</span><br><span class="line">      &lt;includes&gt;</span><br><span class="line">        &lt;include&gt;**&#x2F;*.properties&lt;&#x2F;includes&gt;</span><br><span class="line">        &lt;include&gt;**&#x2F;*.xml&lt;&#x2F;includes&gt;</span><br><span class="line">      &lt;includes&gt;</span><br><span class="line">      &lt;filtering&gt;true&lt;&#x2F;filtering&gt;</span><br><span class="line">   &lt;&#x2F;resource&gt; </span><br><span class="line">    &lt;resource&gt;</span><br><span class="line">      &lt;directory&gt;src&#x2F;main&#x2F;java&lt;&#x2F;directory&gt;</span><br><span class="line">      &lt;includes&gt;</span><br><span class="line">        &lt;include&gt;**&#x2F;*.properties&lt;&#x2F;includes&gt;</span><br><span class="line">        &lt;include&gt;**&#x2F;*.xml&lt;&#x2F;includes&gt;</span><br><span class="line">      &lt;includes&gt;</span><br><span class="line">      &lt;filtering&gt;true&lt;&#x2F;filtering&gt;</span><br><span class="line">   &lt;&#x2F;resource&gt; </span><br><span class="line">  &lt;&#x2F;resources&gt; </span><br><span class="line">&lt;&#x2F;build&gt;</span><br></pre></td></tr></table></figure></span>

</code></pre>
</li>
</ul>
<h2 id="æœ¬åœ°ä»“åº“"><a href="#æœ¬åœ°ä»“åº“" class="headerlink" title="æœ¬åœ°ä»“åº“"></a>æœ¬åœ°ä»“åº“</h2><p>åœ¨æœ¬åœ°çš„ä»“åº“ï¼Œè¿œç¨‹ä»“åº“;</p>
<p>å»ºç«‹ä¸€ä¸ªæœ¬åœ°ä»“åº“ï¼š  </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">localRepository</span>&gt;</span>E:\ProgrammingEnviroment\Maven\apache-maven-3.6.3\maven-repo<span class="tag">&lt;/<span class="name">localRepository</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="åœ¨IDEAä¸­ä½¿ç”¨Maven"><a href="#åœ¨IDEAä¸­ä½¿ç”¨Maven" class="headerlink" title="åœ¨IDEAä¸­ä½¿ç”¨Maven"></a>åœ¨IDEAä¸­ä½¿ç”¨Maven</h1><ol>
<li>å¯åŠ¨IDEA</li>
<li>åˆ›å»ºä¸€ä¸ªMavené¡¹ç›®</li>
</ol>
<p>Create from archtype ç‚¹å‡»å  â€” å‚è€ƒmavenæ¨¡æ¿<br><img src="https://i.loli.net/2020/06/22/SIWAXoTiank3mFY.png" alt=""><br><img src="https://i.loli.net/2020/06/22/kLwYph7bDPz2Ut1.png" alt=""><br><img src="https://i.loli.net/2020/06/22/kogjOtDGNbxPHm4.png" alt=""></p>
<ol>
<li><img src="https://i.loli.net/2020/06/22/yfdU9BP7tqOmk43.png" alt=""><br>BUILD SUCCESS</li>
<li>Mavené…ç½®<br>IDEAé¡¹ç›®åˆ›å»ºæˆåŠŸåï¼Œçœ‹ä¸€çœ¼Mavené…ç½®<br><img src="https://i.loli.net/2020/06/22/rfk8Hv2PT1pJVYo.png" alt="">   </li>
<li>åˆ°è¿™é‡Œmavenåœ¨ideaçš„é…ç½®å’Œä½¿ç”¨å°±okäº†</li>
</ol>
<h2 id="åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ï¼ˆä¸ç”¨mavenæ¨¡æ¿çš„ï¼‰"><a href="#åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ï¼ˆä¸ç”¨mavenæ¨¡æ¿çš„ï¼‰" class="headerlink" title="åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ï¼ˆä¸ç”¨mavenæ¨¡æ¿çš„ï¼‰"></a>åˆ›å»ºä¸€ä¸ªæ™®é€šçš„ï¼ˆä¸ç”¨mavenæ¨¡æ¿çš„ï¼‰</h2><p><img src="https://i.loli.net/2020/06/22/Ft61RNGyVjYzPAe.png" alt=""></p>
<p><img src="https://i.loli.net/2020/06/22/YSpd12BlePtnMhC.png" alt=""></p>
<h2 id="æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½"><a href="#æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½" class="headerlink" title="æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½"></a>æ ‡è®°æ–‡ä»¶å¤¹åŠŸèƒ½</h2><p><img src="https://i.loli.net/2020/06/22/IoG4j5gD3FtsAdH.png" alt=""></p>
<p>é¡¹ç›®ç»“æ„é…ç½®<br><img src="https://i.loli.net/2020/06/22/LjhMZtzvAGglyf4.png" alt=""></p>
<p>åœ¨Project Structureé‡Œ</p>
<p><img src="https://i.loli.net/2020/06/22/Du2sbTAiqtwgchn.png" alt=""></p>
<hr>
<h2 id="IDEAé‡Œé…ç½®Tomcat"><a href="#IDEAé‡Œé…ç½®Tomcat" class="headerlink" title="IDEAé‡Œé…ç½®Tomcat"></a>IDEAé‡Œé…ç½®Tomcat</h2><p><img src="https://i.loli.net/2020/06/30/8YJ9okGBTAuZORV.png" alt=""></p>
<h2 id="POMæ–‡ä»¶"><a href="#POMæ–‡ä»¶" class="headerlink" title="POMæ–‡ä»¶"></a>POMæ–‡ä»¶</h2><p><img src="https://i.loli.net/2020/06/30/5T4DgwJEI7q6rtU.png" alt=""></p>
<p>Mavenæœ€æœ€è®©äººæ„Ÿåˆ°èˆ’å¿ƒçš„å°±æ˜¯ï¼Œä¼šè‡ªåŠ¨æŠŠç›¸å…³çš„ä¾èµ–jarè‡ªå·±ä¸‹ä¸‹æ¥</p>
<h2 id="IDEA-ç›®å½•æ ‘"><a href="#IDEA-ç›®å½•æ ‘" class="headerlink" title="IDEA ç›®å½•æ ‘"></a>IDEA ç›®å½•æ ‘</h2><p>Mavenæ“ä½œæ ä¸Šå°±æœ‰è‡ªåŠ¨ç”Ÿæˆçš„æŒ‰é’®</p>
<h1 id="Servlet"><a href="#Servlet" class="headerlink" title="Servlet"></a>Servlet</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><p>Java Servlet æ˜¯è¿è¡Œåœ¨ Web æœåŠ¡å™¨æˆ–åº”ç”¨æœåŠ¡å™¨ä¸Šçš„ç¨‹åºï¼Œå®ƒæ˜¯ä½œä¸ºæ¥è‡ª Web æµè§ˆå™¨æˆ–å…¶ä»– HTTP å®¢æˆ·ç«¯çš„è¯·æ±‚å’Œ HTTP æœåŠ¡å™¨ä¸Šçš„æ•°æ®åº“æˆ–åº”ç”¨ç¨‹åºä¹‹é—´çš„ä¸­é—´å±‚ã€‚</p>
<p>ä½¿ç”¨ Servletï¼Œæ‚¨å¯ä»¥æ”¶é›†æ¥è‡ªç½‘é¡µè¡¨å•çš„ç”¨æˆ·è¾“å…¥ï¼Œå‘ˆç°æ¥è‡ªæ•°æ®åº“æˆ–è€…å…¶ä»–æºçš„è®°å½•ï¼Œè¿˜å¯ä»¥åŠ¨æ€åˆ›å»ºç½‘é¡µã€‚</p>
<p>Java Servlet é€šå¸¸æƒ…å†µä¸‹ä¸ä½¿ç”¨ CGIï¼ˆCommon Gateway Interfaceï¼Œå…¬å…±ç½‘å…³æ¥å£ï¼‰å®ç°çš„ç¨‹åºå¯ä»¥è¾¾åˆ°å¼‚æ›²åŒå·¥çš„æ•ˆæœã€‚ä½†æ˜¯ç›¸æ¯”äº CGIï¼ŒServlet æœ‰ä»¥ä¸‹å‡ ç‚¹ä¼˜åŠ¿ï¼š</p>
<ul>
<li><p>æ€§èƒ½æ˜æ˜¾æ›´å¥½ã€‚</p>
</li>
<li><p>Servlet åœ¨ Web æœåŠ¡å™¨çš„åœ°å€ç©ºé—´å†…æ‰§è¡Œã€‚è¿™æ ·å®ƒå°±æ²¡æœ‰å¿…è¦å†åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„è¿›ç¨‹æ¥å¤„ç†æ¯ä¸ªå®¢æˆ·ç«¯è¯·æ±‚ã€‚</p>
</li>
<li><p>Servlet æ˜¯ç‹¬ç«‹äºå¹³å°çš„ï¼Œå› ä¸ºå®ƒä»¬æ˜¯ç”¨ Java ç¼–å†™çš„ã€‚<br>æœåŠ¡å™¨ä¸Šçš„ Java å®‰å…¨ç®¡ç†å™¨æ‰§è¡Œäº†ä¸€ç³»åˆ—é™åˆ¶ï¼Œä»¥ä¿æŠ¤æœåŠ¡å™¨è®¡ç®—æœºä¸Šçš„èµ„æºã€‚å› æ­¤ï¼ŒServlet æ˜¯å¯ä¿¡çš„ã€‚</p>
</li>
<li><p>Java ç±»åº“çš„å…¨éƒ¨åŠŸèƒ½å¯¹ Servlet æ¥è¯´éƒ½æ˜¯å¯ç”¨çš„ã€‚å®ƒå¯ä»¥é€šè¿‡ sockets å’Œ RMI æœºåˆ¶ä¸ appletsã€æ•°æ®åº“æˆ–å…¶ä»–è½¯ä»¶è¿›è¡Œäº¤äº’ã€‚</p>
</li>
<li><p>ç¼–å†™ä¸€ä¸ªç±»ï¼Œå®ç°servletæ¥å£</p>
</li>
<li><p>æŠŠå¼€å‘å¥½çš„javaç±»éƒ¨ç½²åˆ°webæœåŠ¡å™¨ä¸­ã€‚</p>
</li>
</ul>
<h2 id="HelloServlet"><a href="#HelloServlet" class="headerlink" title="HelloServlet"></a>HelloServlet</h2><ol>
<li>æ„å»ºä¸€ä¸ªMavenæ™®é€šé¡¹ç›®ï¼Œåˆ æ‰é‡Œé¢çš„src</li>
<li>å…³äºçˆ¶å­é¡¹ç›®çš„ç†è§£:<br>çˆ¶é¡¹ç›®ä¸­æœ‰ï¼š <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">&lt;!-- https://mvnrepository.com/artifact/javax.servlet.jsp/javax.servlet.jsp-api --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>


</li>
</ol>
<p> å­é¡¹ç›®ä¼šæœ‰ï¼š</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javaweb-02-servlet<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.leonard<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"> ``` <span class="tag">&lt;<span class="name">parent</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javaweb-servlet-02<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.example<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.0-SNAPSHOT<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">parent</span>&gt;</span></span><br><span class="line"> </span><br><span class="line"> ``` </span><br><span class="line"></span><br><span class="line"> åœ¨project Javaweb-02-servlet</span><br><span class="line"> ä¸­å»ºç«‹äº†æ–°çš„Module</span><br><span class="line">servlet-01 åœ¨å»ºç«‹æ—¶åˆ©ç”¨Maven-webappæ¨¡æ¿ã€‚å»ºç«‹ä¸»é¡¹ç›®çš„å­é¡¹ç›®ï¼ŒArtifactsä¸€å®šè¦å¥½å¥½å‘½åã€‚</span><br><span class="line">åé¢åŠ è½½Tomcatå¾—ç”¨Artifacts</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![](https://i.loli.net/2020/07/02/9B4AvzgbDaT5NJU.png)</span><br><span class="line"></span><br><span class="line">&gt; åœ¨mainé‡Œå»ºç«‹javaå’Œresouces</span><br><span class="line">![](https://i.loli.net/2020/07/02/ZdAbDFrhL5qVH7u.png)</span><br><span class="line">åœ¨javaé‡Œæ ¹æ®Aliæ‰‹å†Œï¼Œè§„èŒƒå‘½å</span><br><span class="line">com.leonard.servlet</span><br><span class="line"></span><br><span class="line">![](https://i.loli.net/2020/07/02/xArquhjEfwZX4Nd.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-----------------------------------------------------</span><br><span class="line"></span><br><span class="line">&gt;ç°åœ¨WEB.xmlé…å¥½äº†ï¼Œä¹Ÿå»ºç«‹å¥½äº†Servletæ¥å£</span><br><span class="line"></span><br><span class="line">## é…ç½®Tomcat</span><br><span class="line">**å³ä¸Šè§’çš„EditConfiguration**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; æŒ‰â€œ+â€å·ï¼Œé€‰æ‹©Tomcat-Local</span><br><span class="line">![](https://i.loli.net/2020/07/02/MnrK2HORJINYVS6.png)</span><br><span class="line"></span><br><span class="line">![](https://i.loli.net/2020/07/02/nwVxA5L6GM3STBk.png)</span><br><span class="line"></span><br><span class="line">**è¿›å…¥Depolymentï¼Œé€‰æ‹©Artifacts**</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![](https://i.loli.net/2020/07/02/e1k8YDx6Frp945l.png)</span><br><span class="line">é€‰æ‹©WaråŒ…ï¼Œæ‰“åŒ…æ–¹å¼</span><br><span class="line">å› ä¸ºJava-webçš„æ‰“åŒ…æ–¹å¼å°±waråŒ…</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">----------------------------------------------</span><br><span class="line"></span><br><span class="line">&gt;å¯åŠ¨Tomcat</span><br><span class="line"></span><br><span class="line">ç„¶åç›®å½•ä¼šç”Ÿæˆtargetæ–‡ä»¶åŒ…</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">è¿™å°±æ˜¯ç”Ÿæˆçš„ç›®æ ‡waråŒ…</span><br><span class="line"></span><br><span class="line">## ServletåŸç†</span><br><span class="line">![](https://i.loli.net/2020/07/02/EAvc2U8YWtxGXuQ.png)</span><br><span class="line"></span><br><span class="line">## Mappingé…ç½®</span><br><span class="line">&gt; WEB.XMLé…ç½®</span><br><span class="line"></span><br><span class="line">``` xml</span><br><span class="line"> <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.leonard.servlet.HttpServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span>      </span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    *å·å‰ä»€ä¹ˆéƒ½ä¸èƒ½åŠ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.leonard<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>error<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.leonard.servlet.ErrorServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>error<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>*.leonard1<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>  Mappingæ—¶ä¹Ÿæœ‰ä¼˜å…ˆçº§,å½“è¿›å…¥erroré¡µé¢ï¼Œæƒ³è¿›å…¥helloé¡µé¢ï¼Œä»‹äº <url-pattern>*.leonard</url-pattern>æ˜¯æœ‰é€šé…ç¬¦çš„</p>
<p>  <img src="https://i.loli.net/2020/07/02/HBYNtrnOfMiq97m.png" alt=""></p>
<blockquote>
<p>â€œ.â€ä¹‹å‰éšä¾¿å†™ï¼Œä½†å†™é“å…³äºurl_pattern:.leonardé¡µé¢çš„å°±è·³åˆ°helloé¡µé¢äº†ã€‚<br>  <img src="https://i.loli.net/2020/07/02/64ZdEi1snHDhCSM.png" alt=""></p>
</blockquote>
<hr>
<blockquote>
<p>æŒ‡å®šäº†å›ºæœ‰çš„æ˜ å°„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå¦åˆ™å°±æ‰§è¡Œé»˜è®¤çš„å¤„ç†è¯·æ±‚</p>
</blockquote>
<h2 id="ServletContext"><a href="#ServletContext" class="headerlink" title="ServletContext"></a>ServletContext</h2><h3 id="æ•°æ®å…±äº«"><a href="#æ•°æ®å…±äº«" class="headerlink" title="æ•°æ®å…±äº«"></a>æ•°æ®å…±äº«</h3><p>webå®¹å™¨åœ¨å¯åŠ¨çš„æ—¶å€™ï¼Œä»–ä¼šä¸ºæ¯ä¸ªwebç¨‹åºéƒ½åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ServletContextå¯¹è±¡ï¼Œå®ƒä»£è¡¨äº†å½“å‰çš„webåº”ç”¨ã€‚</p>
<ul>
<li>å…±äº«æ•°æ®  <ul>
<li>æˆ‘åœ¨è¿™ä¸ªservletä¿å­˜çš„æ•°æ®ï¼Œå¯ä»¥åœ¨å¦ä¸€ä¸ªservletæ‹¿åˆ°<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetServlet</span>  <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        ServletContext context=<span class="keyword">this</span>.getServletContext();</span><br><span class="line">        String username= (String) context.getAttribute(<span class="string">"username"</span>);</span><br><span class="line">        resp.setContentType(<span class="string">"text/html"</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        resp.getWriter().print(<span class="string">"åå­—"</span>+username);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">HelloServlet</span>  <span class="keyword">extends</span> <span class="title">HttpServlet</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        ServletContext context =<span class="keyword">this</span>.getServletContext();</span><br><span class="line">        String username=<span class="string">"leonard_shannon"</span>;</span><br><span class="line">        context.setAttribute(<span class="string">"username"</span>,username);</span><br><span class="line"><span class="comment">//        å°†ä¸€ä¸ªæ•°æ®ä¿å­˜åœ¨ServletContextä¸­</span></span><br><span class="line">        System.out.println(<span class="string">"Bonjour!"</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>å…ˆåœ¨HelloServletä¸­è®¾ç½®å¥½usernameå¹¶ä¸”ä¿å­˜åœ¨ServletContext,å†å»GetServletä¸­æ‹¿å€¼</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">"http://www.w3.org/2001/XMLSchema-instance"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">"http://xmlns.jcp.org/xml/ns/javaee</span></span></span><br><span class="line"><span class="tag"><span class="string">          http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">"4.0"</span></span></span><br><span class="line"><span class="tag">         <span class="attr">metadata-complete</span>=<span class="string">"true"</span>          &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.leonard.servlet.HelloServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>hello<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/hello<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>getc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.leonard.servlet.GetServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span>    </span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>getc<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/getc<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="è·å–åˆå§‹åŒ–å‚æ•°-ç°å®ä¸­å¾ˆå°‘ç”¨"><a href="#è·å–åˆå§‹åŒ–å‚æ•°-ç°å®ä¸­å¾ˆå°‘ç”¨" class="headerlink" title="è·å–åˆå§‹åŒ–å‚æ•°(ç°å®ä¸­å¾ˆå°‘ç”¨)"></a>è·å–åˆå§‹åŒ–å‚æ•°(ç°å®ä¸­å¾ˆå°‘ç”¨)</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo03</span>  <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        ServletContext context=<span class="keyword">this</span>.getServletContext();</span><br><span class="line">        String url=context.getInitParameter(<span class="string">"url"</span>);  <span class="comment">//è·å–åˆå§‹å‚æ•°</span></span><br><span class="line">        resp.getWriter().print(url);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>é…ç½®Web.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>url<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>jdbc:mysql://localhost:3306/mybatis<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>gp<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.leonard.servlet.ServletDemo03<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>gp<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/gp<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>



<h2 id="è¯·æ±‚è½¬å‘"><a href="#è¯·æ±‚è½¬å‘" class="headerlink" title="è¯·æ±‚è½¬å‘"></a>è¯·æ±‚è½¬å‘</h2><ul>
<li>é‡å®šå‘.åƒAè¦å»Cæ‹¿æ•°æ®ï¼Œä½†å¤Ÿä¸åˆ°ï¼Œåªèƒ½é€šè¿‡Bå»è¦ï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è®©Bå»Cæ‹¿æ•°æ®ï¼ŒCè¿”å›ç»™Bï¼ŒBè¿”å›ç»™A<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo04</span>  <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        ServletContext context=<span class="keyword">this</span>.getServletContext();</span><br><span class="line">        System.out.println(<span class="string">"è¿›å…¥äº†ServletDemo04"</span>);</span><br><span class="line">        context.getRequestDispatcher(<span class="string">"/gp"</span>).forward(req,resp);<span class="comment">///è°ƒç”¨forwardè¯·æ±‚è½¬å‘</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doPost(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>sd4<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.leonard.servlet.ServletDemo04<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>sd4<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/sd4<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="è¯»å–èµ„æºæ–‡ä»¶"><a href="#è¯»å–èµ„æºæ–‡ä»¶" class="headerlink" title="è¯»å–èµ„æºæ–‡ä»¶"></a>è¯»å–èµ„æºæ–‡ä»¶</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServletDemo05</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span></span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">    InputStream is =<span class="keyword">this</span>.getServletContext().getResourceAsStream(<span class="string">"/WEB-INF/classes/db.properties"</span>);</span><br><span class="line">        Properties prop =<span class="keyword">new</span> Properties();</span><br><span class="line">        prop.load(is);</span><br><span class="line">        String user=prop.getProperty(<span class="string">"username"</span>);</span><br><span class="line">        String pwd=prop.getProperty(<span class="string">"password"</span>);</span><br><span class="line">        resp.getWriter().print(user+<span class="string">":"</span>+pwd);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><img src="https://i.loli.net/2020/07/07/xoXYwIdKaAf5zTD.png" alt=""></p>
<h2 id="HttpServletResponse"><a href="#HttpServletResponse" class="headerlink" title="HttpServletResponse"></a>HttpServletResponse</h2><p>webæœåŠ¡å™¨æ¥å—åˆ°å®¢æˆ·ç«¯çš„httpè¯·æ±‚ï¼Œé’ˆå¯¹è¿™ä¸ªè¯·æ±‚ï¼Œåˆ†åˆ«åˆ›å»ºä¸€ä¸ªä»£è¡¨è¯·æ±‚çš„Requestå¯¹è±¡ï¼Œä¸€ä¸ªä»£è¡¨å“åº”çš„Responseå¯¹è±¡</p>
<ul>
<li>æˆ‘ä»¬å¦‚æœè¦å»è·å–å®¢æˆ·ç«¯è¯·æ±‚è¿‡æ¥çš„å‚æ•°-Request</li>
<li>å¦‚æœè¦ç»™å®¢æˆ·ç«¯å“åº”ä¸€äº›ä¿¡æ¯-Response</li>
</ul>
<h3 id="ç®€å•åˆ†ç±»"><a href="#ç®€å•åˆ†ç±»" class="headerlink" title="ç®€å•åˆ†ç±»"></a>ç®€å•åˆ†ç±»</h3><p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€æ•°æ®çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">servletOutputstream <span class="title">getOutputstream</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br><span class="line">   <span class="function">Printwriter <span class="title">getwriter</span><span class="params">()</span> <span class="keyword">throws</span> IOException</span>;</span><br></pre></td></tr></table></figure>


<p>è´Ÿè´£å‘æµè§ˆå™¨å‘é€å“åº”å¤´çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setCharacterEncoding</span><span class="params">(String var1)</span>ï¼›</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setContentLength</span><span class="params">(<span class="keyword">int</span> var1)</span>ï¼›</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setContentLengthLong</span><span class="params">(<span class="keyword">long</span> var1)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setContentType</span><span class="params">(String var1)</span>ï¼›</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setDateHeader</span><span class="params">(String varl,<span class="keyword">long</span> var2)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addDateHeader</span><span class="params">(String var1,<span class="keyword">long</span> var2)</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setHeader</span><span class="params">(String var1,String var2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addHeader</span><span class="params">(String var1,String var2)</span>ï¼›</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">setIntHeader</span><span class="params">(String var1,<span class="keyword">int</span> var2)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">addIntHeader</span><span class="params">(String varl,<span class="keyword">int</span> var2)</span></span>;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>å“åº”çš„çŠ¶æ€ç <br><img src="https://i.loli.net/2020/07/09/V5TaFmxXeuNc8gW.png" alt=""><br><img src="https://i.loli.net/2020/07/09/E8QmC9ALX4OrPsS.png" alt=""></p>
</blockquote>
<ol>
<li>å‘æµè§ˆå™¨è¾“å‡ºæ¶ˆæ¯ï¼ˆä¸€ç›´åœ¨è®²ï¼Œå°±ä¸è¯´äº†ï¼‰</li>
<li>ä¸‹è½½æ–‡ä»¶<ol>
<li>è¦è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯å¾„</li>
<li>ä¸‹è½½çš„æ–‡ä»¶åæ˜¯å•¥ï¼Ÿ</li>
<li>è®¾ç½®æƒ³åŠæ³•è®©æµè§ˆå™¨èƒ½å¤Ÿæ”¯æŒä¸‹è½½æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿</li>
<li>è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</li>
<li>åˆ›å»ºç¼“å†²åŒº</li>
<li>è·å–OutputStreamå¯¹è±¡</li>
<li>å°†FileOutputStreamæµå†™å…¥åˆ°buferç¼“å†²åŒº</li>
<li>ä½¿ç”¨OutputStreamå°†ç¼“å†²åŒºä¸­çš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯ï¼</li>
</ol>
</li>
</ol>
<h3 id="æ–‡ä»¶ä¸‹è½½"><a href="#æ–‡ä»¶ä¸‹è½½" class="headerlink" title="æ–‡ä»¶ä¸‹è½½"></a>æ–‡ä»¶ä¸‹è½½</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileServlet</span>  <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">//1.è·å–ä¸‹è½½æ–‡ä»¶çš„è·¯åŠ²</span></span><br><span class="line">        String realPath = <span class="string">"D:\\JAVAå­¦ä¹ è·¯çº¿\\javaweb-servlet-02\\javaweb-servlet-02\\javaweb-02-servlet\\response\\src\\main\\resources\\1.png"</span>;</span><br><span class="line">        System.out.println(<span class="string">"ä¸‹è½½æ–‡ä»¶çš„è·¯ç»ï¼š"</span> + realPath);</span><br><span class="line">        <span class="comment">//2.ä¸‹è½½æ–‡ä»¶åå­—æ˜¯ä»€ä¹ˆ</span></span><br><span class="line">       String filename= realPath.substring(realPath.lastIndexOf(<span class="string">"//"</span>)+<span class="number">1</span>);</span><br><span class="line">        <span class="comment">//3 è®¾ç½®è®©æµè§ˆå™¨æ”¯æŒæˆ‘ä»¬æƒ³è¦ä¸‹è½½çš„ä¸œè¥¿</span></span><br><span class="line">        resp.setHeader(<span class="string">"Content-Disposition"</span>,<span class="string">"attachment;filename="</span>+filename);</span><br><span class="line">        <span class="comment">//4.è·å–ä¸‹è½½æ–‡ä»¶çš„è¾“å…¥æµ</span></span><br><span class="line">        FileInputStream in =<span class="keyword">new</span> FileInputStream(realPath);</span><br><span class="line">        <span class="comment">//5.åˆ›å»ºç¼“å†²åŒº</span></span><br><span class="line">        <span class="keyword">int</span> len =<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">byte</span> []buffer=<span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="comment">//6.è·å–FileOutputStreamæµå†™å…¥åˆ°bufferç¼“å†²åŒº</span></span><br><span class="line">        ServletOutputStream out =resp.getOutputStream();</span><br><span class="line">        <span class="comment">//7.å°†FileoutPutStreamå†™å…¥åˆ°bufferï¼Œç”¨outoputStreamå°†ç¼“å†²åŒºçš„æ•°æ®è¾“å‡ºåˆ°å®¢æˆ·ç«¯</span></span><br><span class="line">        <span class="keyword">while</span>((len=in.read(buffer))&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            out.write(buffer,<span class="number">0</span>,len);</span><br><span class="line">        &#125;</span><br><span class="line">        in.close();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="éªŒè¯ç ï¼ˆå°±å½“ç»ƒæ‰‹äº†ï¼‰"><a href="#éªŒè¯ç ï¼ˆå°±å½“ç»ƒæ‰‹äº†ï¼‰" class="headerlink" title="éªŒè¯ç ï¼ˆå°±å½“ç»ƒæ‰‹äº†ï¼‰"></a>éªŒè¯ç ï¼ˆå°±å½“ç»ƒæ‰‹äº†ï¼‰</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ImageServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">       <span class="comment">//å¦‚ä½•è®©æµè§ˆå™¨3sè‡ªåŠ¨åˆ·æ–°ä¸€æ¬¡</span></span><br><span class="line">        resp.setHeader(<span class="string">"refresh"</span>,<span class="string">"3"</span>);</span><br><span class="line">        <span class="comment">//åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªå›¾ç‰‡</span></span><br><span class="line">        BufferedImage image =<span class="keyword">new</span> BufferedImage(<span class="number">80</span>,<span class="number">30</span>,BufferedImage.TYPE_INT_RGB);</span><br><span class="line">        <span class="comment">//å¾—åˆ°å›¾ç‰‡</span></span><br><span class="line">        Graphics2D g =(Graphics2D)image.getGraphics();<span class="comment">//ç¬”</span></span><br><span class="line">        <span class="comment">//å¾—åˆ°å›¾ç‰‡é¢œè‰²</span></span><br><span class="line">        g.setColor(Color.white);</span><br><span class="line">        g.fillRect(<span class="number">0</span>,<span class="number">0</span>,<span class="number">80</span>,<span class="number">20</span>);</span><br><span class="line">        <span class="comment">//ç»™å›¾ç‰‡å†™æ•°æ®</span></span><br><span class="line">        g.setColor(Color.BLUE);</span><br><span class="line">        g.setFont(<span class="keyword">new</span> Font(<span class="keyword">null</span>,Font.BOLD,<span class="number">20</span>));</span><br><span class="line">        g.drawString(makeNum(),<span class="number">0</span>,<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å‘Šè¯‰æµè§ˆå™¨ç”¨å›¾ç‰‡çš„æ–¹å¼æ‰“å¼€</span></span><br><span class="line">        resp.setContentType(<span class="string">"image/jpeg"</span>);</span><br><span class="line">        <span class="comment">//ç½‘ç«™å­˜åœ¨ç¼“å­˜ï¼Œä¸è®©æµè§ˆå™¨ç¼“å­˜</span></span><br><span class="line">        resp.setDateHeader(<span class="string">"exprise"</span>,-<span class="number">1</span>);</span><br><span class="line">        resp.setHeader(<span class="string">"cache-Control"</span>,<span class="string">"no-cache"</span>);</span><br><span class="line">        resp.setHeader(<span class="string">"Prahma"</span>,<span class="string">"no-cache"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æŠŠå›¾ç‰‡å†™ç»™æµè§ˆå™¨</span></span><br><span class="line">        <span class="keyword">boolean</span> write = ImageIO.write(image, <span class="string">"jpg"</span>,resp.getOutputStream());</span><br><span class="line">          </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æŠŠè¿™ä¸ªmakeNumå‡½æ•°æŒæ¡</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">makeNum</span><span class="params">()</span></span>&#123;</span><br><span class="line">      Random random= <span class="keyword">new</span> Random();</span><br><span class="line">      String num =random.nextInt(<span class="number">9999999</span>)+<span class="string">""</span>;</span><br><span class="line">      StringBuffer sb= <span class="keyword">new</span> StringBuffer();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">7</span>-num.length(); i++) &#123;</span><br><span class="line">            sb.append(<span class="string">"0"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        num=sb.toString()+num;</span><br><span class="line">        <span class="keyword">return</span> num;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<hr>
<h3 id="é‡å®šå‘ï¼ˆæŒæ¡ï¼‰"><a href="#é‡å®šå‘ï¼ˆæŒæ¡ï¼‰" class="headerlink" title="é‡å®šå‘ï¼ˆæŒæ¡ï¼‰"></a>é‡å®šå‘ï¼ˆæŒæ¡ï¼‰</h3><p>Bä¸€ä¸ªwebèµ„æºæ”¶åˆ°å®¢æˆ·ç«¯Aè¯·æ±‚åï¼ŒBä»–ä¼šé€šçŸ¥Aå®¢æˆ·ç«¯å»è®¿é—®å¦å¤–ä¸€ä¸ªwebèµ„æºCï¼Œè¿™è¿‡ç¨‹å«é‡å®šå‘</p>
<p>å¸¸è§åœºæ™¯ï¼š</p>
<ul>
<li>ç”¨æˆ·ç™»å½•</li>
</ul>
<blockquote>
<p>RedirectServlet<br>resp.sendRedirect(â€œâ€); å°±è¿™ä¸€å¥è¡¨è¾¾å¼</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RedirectServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        <span class="comment">/*resp.setHeader("Location","/response_war/image");</span></span><br><span class="line"><span class="comment">        resp.setStatus(302); sendRedirectåŸç†     */</span></span><br><span class="line">        resp.sendRedirect(<span class="string">"/response_war/image"</span>);<span class="comment">//å®ç°é‡å®šå‘</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">     doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>xmlé…ç½®</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>redirect<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>com.leonard.servlet.RedirectServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>redirect<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/redirect<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>é¢è¯•é¢˜ï¼šè¯·ä½ èŠèŠé‡å®šå‘å’Œè½¬å‘çš„åŒºåˆ«ï¼Ÿ<br>ç›¸åŒç‚¹</p>
<ul>
<li>é¡µé¢éƒ½ä¼šå®ç°è·³è½¬</li>
</ul>
<p>ä¸åŒç‚¹</p>
<ul>
<li>è¯·æ±‚è½¬å‘çš„æ—¶å€™ï¼Œurlä¸ä¼šäº§ç”Ÿå˜åŒ–</li>
<li>é‡å®šå‘æ—¶å€™ï¼Œurlåœ°å€æ ä¼šå‘ç”Ÿå˜åŒ–</li>
</ul>
<h2 id="HttpServletRequest"><a href="#HttpServletRequest" class="headerlink" title="HttpServletRequest"></a>HttpServletRequest</h2><p>HttpServeltRequestä»£è¡¨å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œç”¨æˆ·é€šè¿‡httpåè®®è®¿é—®æœåŠ¡å™¨ï¼Œhttpè¯·æ±‚ä¸­çš„æ‰€æœ‰ä¿¡å¿ƒä¼šè¢«å°è£…åˆ°HttpServletRequest,é€šè¿‡è¿™ä¸ªhttpservletRequestçš„æ–¹æ³•ï¼Œè·å¾—å®¢æˆ·ç«¯çš„æ‰€æœ‰ä¿¡æ¯ã€‚</p>
<h3 id="è·å–å‚æ•°-è¯·æ±‚è½¬å‘"><a href="#è·å–å‚æ•°-è¯·æ±‚è½¬å‘" class="headerlink" title="è·å–å‚æ•°,è¯·æ±‚è½¬å‘"></a>è·å–å‚æ•°,è¯·æ±‚è½¬å‘</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">req.getParameter();</span><br></pre></td></tr></table></figure>


<p><img src="https://i.loli.net/2020/07/09/r5kfANKR28W69lM.png" alt=""><br><img src="https://i.loli.net/2020/07/09/MEGBscNAvzhekSt.png" alt=""><br><img src="https://i.loli.net/2020/07/09/2TGtAObNagQCKq6.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LoginServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        req.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        String usename=req.getParameter(<span class="string">"username"</span>);</span><br><span class="line">        String password =req.getParameter(<span class="string">"password"</span>);</span><br><span class="line">        String []hobbys=req.getParameterValues(<span class="string">"hobbys"</span>);</span><br><span class="line">        System.out.println(<span class="string">"==================="</span>);</span><br><span class="line">        System.out.println(usename);</span><br><span class="line">        System.out.println(password);</span><br><span class="line">        System.out.println(Arrays.toString(hobbys));</span><br><span class="line">        System.out.println(<span class="string">"==================="</span>);</span><br><span class="line">        req.getRequestDispatcher(<span class="string">"/success.jsp"</span>).forward(req,resp);</span><br><span class="line"></span><br><span class="line">        resp.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doGet(req,resp);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>index.jsp</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">contentType</span>=<span class="string">"text/html;charset=UTF-8"</span> <span class="attr">language</span>=<span class="string">"java"</span> %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>ç™»å½•<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Login<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span> =<span class="string">"text-align: center"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%--</span>    è¿™é‡Œè¡¨å•è¡¨ç¤ºçš„æ„æ€ï¼Œä»¥<span class="attr">post</span>æ–¹å¼æäº¤è¡¨å•ï¼Œæäº¤åˆ°æˆ‘ä»¬çš„<span class="attr">login</span>è¯·æ±‚<span class="attr">--</span>%&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"$&#123;pageContext.request.contextPath&#125;/login"</span> <span class="attr">method</span>=<span class="string">"post"</span>&gt;</span></span><br><span class="line">    ç”¨æˆ·å: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    å¯†ç : <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span> <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    çˆ±å¥½:</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobbys"</span>&gt;</span>è¶³çƒ</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobbys"</span>&gt;</span>ä»£ç </span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobbys"</span>&gt;</span>æ–‡æ¡ˆ</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"hobbys"</span>&gt;</span>è­¦å¯Ÿ</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>success.jsp</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">contentType</span>=<span class="string">"text/html;charset=UTF-8"</span> <span class="attr">language</span>=<span class="string">"java"</span> %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Success<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>Bonjour!<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h1 id="Cookie-Session"><a href="#Cookie-Session" class="headerlink" title="Cookie Session"></a>Cookie Session</h1><p><img src="https://i.loli.net/2020/07/09/uWjVIl4MqQBkvgH.png" alt=""></p>
<h2 id="Cookie"><a href="#Cookie" class="headerlink" title="Cookie"></a>Cookie</h2><ol>
<li>ä»è¯·æ±‚ä¸­æ‹¿åˆ°cookieä¿¡æ¯</li>
<li>æœåŠ¡å™¨å“åº”ç»™å®¢æˆ·ç«¯cookie<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Cookie[] cookies =req.getCookies() ;<span class="comment">//è·å¾—cookie</span></span><br><span class="line">cookie.getName()ï¼›<span class="comment">//è·å¾—cookieä¸­çš„key</span></span><br><span class="line">cookie.getValue()ï¼›<span class="comment">//è·å¾—cookieä¸­çš„Value</span></span><br><span class="line"><span class="keyword">new</span> Cookie(<span class="string">"lastLoginTime"</span>, System.currentTimeMillis()+<span class="string">""</span>) <span class="comment">//æ–°å»ºä¸€ä¸ªcookie</span></span><br><span class="line">cookie.setMaxAge(<span class="number">24</span>*<span class="number">60</span>*<span class="number">60</span>) <span class="comment">//è®¾ç½®cookieçš„æœ‰æ•ˆæœŸ</span></span><br><span class="line">resp.addCookie(cookie) <span class="comment">//å“åº”ç»™å®¢æˆ·ç«¯ä¸€ä¸ªcookie</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p><strong>cookieï¼šä¸€èˆ¬ä¿å­˜åœ¨æœ¬åœ°ç”¨æˆ·ç›®å½•ä¸‹appdata</strong></p>
<p>ä¸€ä¸ªç½‘ç«™cookieæ˜¯å¦å­˜åœ¨ä¸Šé™ï¼èŠèŠç»†èŠ‚é—®é¢˜</p>
<ul>
<li>ä¸€ä¸ªcookieåªèƒ½ä¿å­˜ä¸€ä¸ªä¿¡æ¯ï¼›</li>
<li>ä¸€ä¸ªwebç«™ç‚¹èƒ½ç»™æµè§ˆå™¨å‘é€å¤šä¸ªcookie</li>
<li>300ä¸ªcookieæµè§ˆå™¨ä¸Šé™</li>
<li>Cookieå¤§å°æœ‰é™åˆ¶4kb</li>
</ul>
<p><strong>åˆ é™¤cookieï¼š</strong></p>
<ul>
<li>ä¸è®¾ç½®æœ‰é™æœŸï¼Œå…³é—­æµè§ˆå™¨ï¼Œè‡ªåŠ¨å¤±æ•ˆ</li>
<li>è®¾ç½®æœ‰æ•ˆæœŸæ—¶é—´ä¸º0</li>
</ul>
<p><strong>ç¼–ç è§£ç ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">URLEncoder.encode(<span class="string">"leonard"</span>,<span class="string">"utf-8"</span>);</span><br><span class="line">URLDecoder.decode(cookie.getValue(),<span class="string">"UTF-8"</span>);</span><br></pre></td></tr></table></figure>



<h2 id="Session-é‡ç‚¹"><a href="#Session-é‡ç‚¹" class="headerlink" title="Session(é‡ç‚¹)"></a>Session(é‡ç‚¹)</h2><p>ä¼šè¯ï¼šç”¨æˆ·æ‰“å¼€ä¸€ä¸ªæµè§ˆå™¨ï¼Œç‚¹å‡»äº†å¾ˆå¤šè¶…é“¾æ¥ï¼Œè®¿é—®å¤šä¸ªwebèµ„æºï¼Œå…³é—­æµè§ˆå™¨<br><img src="https://i.loli.net/2020/07/09/QouF1P3Nptq4MaZ.png" alt=""><br>ä»€ä¹ˆæ˜¯session:</p>
<ul>
<li>æœåŠ¡å™¨ä¼šç»™æ¯ä¸€ä¸ªç”¨æˆ·ï¼ˆæµè§ˆå™¨ï¼‰åˆ›å»ºä¸€ä¸ªsessionå¯¹è±¡</li>
<li>ä¸€ä¸ªseesionç‹¬å ä¸€ä¸ªæµè§ˆå™¨ï¼Œåªè¦æµè§ˆå™¨æ²¡æœ‰å…³é—­ï¼Œè¿™ä¸ªsessionå°±å­˜åœ¨</li>
<li>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œæ•´ä¸ªç½‘ç«™å®ƒéƒ½å¯ä»¥è®¿é—®ï¼Œâ€“&gt;ä¿å­˜ç”¨æˆ·ä¿¡æ¯</li>
</ul>
<p>æœ‰çŠ¶æ€ä¼šè¯ï¼šä¸€ä¸ªåŒå­¦æ¥è¿‡æ•™å®¤ï¼Œä¸‹æ¬¡å†æ¥æ•™å®¤ï¼Œæˆ‘ä»¬ä¼šçŸ¥é“è¿™ä¸ªåŒå­¦ï¼Œæ›¾ç»æ¥è¿‡ï¼Œç§°ä¹‹ä¸ºæœ‰çŠ¶æ€ä¼šè¯ï¼›</p>
<p><strong>ä½ èƒ½æ€ä¹ˆè¯æ˜ä½ æ˜¯è¥¿å¼€çš„å­¦ç”Ÿï¼Ÿ</strong></p>
<p>ä½  è¥¿å¼€</p>
<p>å‘ç¥¨ è¥¿å¼€ç»™ä½ å‘ç¥¨<br>å­¦æ ¡ç™»è®° è¥¿å¼€æ ‡è®°ä½ æ¥è¿‡äº†<br>ä¸€ä¸ªç½‘ç«™ï¼Œæ€ä¹ˆè¯æ˜ä½ æ¥è¿‡ï¼Ÿ</p>
<p>å®¢æˆ·ç«¯ æœåŠ¡ç«¯</p>
<p>æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯ä¸€ä¸ª ä¿¡ä»¶ï¼Œå®¢æˆ·ç«¯ä¸‹æ¬¡è®¿é—®æœåŠ¡ç«¯å¸¦ä¸Šä¿¡ä»¶å°±å¯ä»¥äº†ï¼› cookie<br>æœåŠ¡å™¨ç™»è®°ä½ æ¥è¿‡äº†ï¼Œä¸‹æ¬¡ä½ æ¥çš„æ—¶å€™æˆ‘æ¥åŒ¹é…ä½ ï¼› seesion</p>
<p>Session å’Œ Cookieçš„åŒºåˆ«:</p>
<ul>
<li>Cookieæ˜¯æŠŠç”¨æˆ·çš„æ•°æ®å†™ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨ä¿å­˜ï¼ˆå¯ä»¥ä¿å­˜å¤šä¸ªï¼‰</li>
<li>Sessionæ˜¯æŠŠç”¨æˆ·çš„æ•°æ®å†™é“ç”¨æˆ·ç‹¬å çš„Sessionä¸­ï¼ŒæœåŠ¡å™¨ç«¯ä¿å­˜ï¼ˆä¿å­˜é‡è¦çš„ä¿¡æ¯ï¼Œå‡å°‘æœåŠ¡å™¨èµ„æºçš„æµªè´¹ï¼‰</li>
<li>sessionå¯¹è±¡ç”±æœåŠ¡åˆ›å»º</li>
</ul>
<p>ä½¿ç”¨åœºæ™¯ï¼š</p>
<ul>
<li>ä¿å­˜ä¸€ä¸ªç™»å½•ç”¨æˆ·çš„ä¿¡æ¯</li>
<li>è´­ç‰©è½¦ä¿¡æ¯</li>
<li>åœ¨æ•´ä¸ªç½‘ç«™ä¸­ç»å¸¸ä¼šä½¿ç”¨çš„æ•°æ®ï¼Œæˆ‘ä»¬å°†ä»–ä¿å­˜åœ¨Sessionä¸­</li>
</ul>
<p>ä½¿ç”¨Session:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.kuang.servlet;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.kuang.pojo.Person;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.ServletException;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.*;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SessionDemo01</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//è§£å†³ä¹±ç é—®é¢˜</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">        resp.setCharacterEncoding(<span class="string">"UTF-8"</span>);</span><br><span class="line">        resp.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//å¾—åˆ°Session</span></span><br><span class="line">        HttpSession session = req.getSession();</span><br><span class="line">        <span class="comment">//ç»™Sessionä¸­å­˜ä¸œè¥¿</span></span><br><span class="line">        session.setAttribute(<span class="string">"name"</span>,<span class="keyword">new</span> Person(<span class="string">"ç§¦ç–†"</span>,<span class="number">1</span>));</span><br><span class="line">        <span class="comment">//è·å–Sessionçš„ID</span></span><br><span class="line">        String sessionId = session.getId();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ¤æ–­Sessionæ˜¯ä¸æ˜¯æ–°åˆ›å»º</span></span><br><span class="line">        <span class="keyword">if</span> (session.isNew())&#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">"sessionåˆ›å»ºæˆåŠŸ,ID:"</span>+sessionId);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            resp.getWriter().write(<span class="string">"sessionä»¥åŠåœ¨æœåŠ¡å™¨ä¸­å­˜åœ¨äº†,ID:"</span>+sessionId);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//Sessionåˆ›å»ºçš„æ—¶å€™åšäº†ä»€ä¹ˆäº‹æƒ…ï¼›</span></span><br><span class="line"><span class="comment">//        Cookie cookie = new Cookie("JSESSIONID",sessionId);</span></span><br><span class="line"><span class="comment">//        resp.addCookie(cookie);</span></span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest req, HttpServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</span><br><span class="line">        doGet(req, resp);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//å¾—åˆ°Session</span></span><br><span class="line">HttpSession session = req.getSession();</span><br><span class="line"></span><br><span class="line">Person person = (Person) session.getAttribute(<span class="string">"name"</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(person.toString());</span><br><span class="line"></span><br><span class="line">HttpSession session = req.getSession();</span><br><span class="line">session.removeAttribute(<span class="string">"name"</span>);</span><br><span class="line"><span class="comment">//æ‰‹åŠ¨æ³¨é”€Session</span></span><br><span class="line">session.invalidate();</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--è®¾ç½®Sessioné»˜è®¤çš„å¤±æ•ˆæ—¶é—´--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--15åˆ†é’ŸåSessionè‡ªåŠ¨å¤±æ•ˆï¼Œä»¥åˆ†é’Ÿä¸ºå•ä½--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>15<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/07/09/Yc5JPM4G1vkBjIl.png" alt=""></p>
<h3 id="ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"><a href="#ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯" class="headerlink" title="ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯"></a>ä¿å­˜ä¼šè¯çš„ä¸¤ç§æŠ€æœ¯</h3><p>cookie</p>
<ul>
<li>å®¢æˆ·ç«¯æŠ€æœ¯(å“åº”ï¼Œè¯·æ±‚)</li>
<li><em>session*</em></li>
<li>æœåŠ¡å™¨æŠ€æœ¯ï¼Œåˆ©ç”¨è¿™ä¸ªæŠ€æœ¯ï¼Œå¯ä»¥ä¿å­˜ç”¨æˆ·çš„ä¼šè¯ä¿¡æ¯ï¼Ÿæˆ‘ä»¬å¯ä»¥æŠŠä¿¡æ¯æˆ–è€…æ•°æ®æ”¾åœ¨sessionä¸­</li>
</ul>
<h1 id="JSP"><a href="#JSP" class="headerlink" title="JSP"></a>JSP</h1><h2 id="ä»€ä¹ˆæ˜¯JSP"><a href="#ä»€ä¹ˆæ˜¯JSP" class="headerlink" title="ä»€ä¹ˆæ˜¯JSP"></a>ä»€ä¹ˆæ˜¯JSP</h2><p>Java Server Pages ï¼š JavaæœåŠ¡å™¨ç«¯é¡µé¢ï¼Œä¹Ÿå’ŒServletä¸€æ ·ï¼Œç”¨äºåŠ¨æ€WebæŠ€æœ¯ï¼</p>
<p>æœ€å¤§çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>å†™jspå°±åƒåœ¨å†™HTML</li>
<li>åŒºåˆ«<ul>
<li>HTMLåªç»™ç”¨æˆ·æä¾›é™æ€çš„æ•°æ®</li>
<li>JSPé¡µé¢ä¸­å¯ä»¥åµŒå…¥JAVAä»£ç ï¼Œä¸ºç”¨æˆ·æä¾›åŠ¨æ€æ•°æ®</li>
</ul>
</li>
</ul>
<h2 id="JSPåŸç†"><a href="#JSPåŸç†" class="headerlink" title="JSPåŸç†"></a>JSPåŸç†</h2><p>æ€è·¯ï¼šJSPåˆ°åº•æ€ä¹ˆæ‰§è¡Œçš„ï¼</p>
<ul>
<li>ä»£ç å±‚é¢æ²¡æœ‰é—®é¢˜</li>
<li>æœåŠ¡å™¨å†…éƒ¨å·¥ä½œ<ul>
<li>tomcatä¸­æœ‰ä¸€ä¸ªworkç›®å½•</li>
<li>IDEAä¸­ä½¿ç”¨Tomcatçš„ä¼šåœ¨IDEAä¸­çš„Tocatä¸­äº§ç”Ÿä¸€ä¸ªworkç›®å½•</li>
</ul>
</li>
</ul>
<p><img src="https://i.loli.net/2020/07/09/t6QkjSXR2YcvG3r.png" alt=""><br><img src="https://i.loli.net/2020/07/09/2C6Zh49HpBtiWON.png" alt=""><br><strong>æµè§ˆå™¨å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œä¸ç®¡è®¿é—®ä»€ä¹ˆèµ„æºï¼Œå…¶å®éƒ½æ˜¯åœ¨è®¿é—®Servletï¼</strong><br><strong>JSPæœ€ç»ˆä¹Ÿä¼šè¢«è½¬æ¢æˆä¸ºä¸€ä¸ªJavaç±»ï¼</strong><br><strong>JSP æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªServlet</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//åˆå§‹åŒ–</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspInit</span><span class="params">()</span> </span>&#123;</span><br><span class="line">      </span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//é”€æ¯</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspDestroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">//JSPService</span></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">_jspService</span><span class="params">(.HttpServletRequest request,HttpServletResponse response)</span></span></span><br></pre></td></tr></table></figure>
<ol>
<li>åˆ¤æ–­è¯·æ±‚</li>
<li>å†…ç½®ä¸€äº›å¯¹è±¡<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> javax.servlet.jsp.PageContext pageContext;  <span class="comment">//é¡µé¢ä¸Šä¸‹æ–‡</span></span><br><span class="line">javax.servlet.http.HttpSession session = <span class="keyword">null</span>;    <span class="comment">//session</span></span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletContext application;   <span class="comment">//applicationContext</span></span><br><span class="line"><span class="keyword">final</span> javax.servlet.ServletConfig config;         <span class="comment">//config</span></span><br><span class="line">javax.servlet.jsp.JspWriter out = <span class="keyword">null</span>;           <span class="comment">//out</span></span><br><span class="line"><span class="keyword">final</span> java.lang.Object page = <span class="keyword">this</span>;               <span class="comment">//pageï¼šå½“å‰</span></span><br><span class="line">HttpServletRequest request                        <span class="comment">//è¯·æ±‚</span></span><br><span class="line">HttpServletResponse response                      <span class="comment">//å“åº”</span></span><br></pre></td></tr></table></figure></li>
<li>è¾“å‡ºé¡µé¢å‰å¢åŠ çš„ä»£ç </li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">response.setContentType(<span class="string">"text/html"</span>);       <span class="comment">//è®¾ç½®å“åº”çš„é¡µé¢ç±»å‹</span></span><br><span class="line">pageContext = _jspxFactory.getPageContext(<span class="keyword">this</span>, request, response,</span><br><span class="line">       <span class="keyword">null</span>, <span class="keyword">true</span>, <span class="number">8192</span>, <span class="keyword">true</span>);</span><br><span class="line">_jspx_page_context = pageContext;</span><br><span class="line">application = pageContext.getServletContext();</span><br><span class="line">config = pageContext.getServletConfig();</span><br><span class="line">session = pageContext.getSession();</span><br><span class="line">out = pageContext.getOut();</span><br><span class="line">_jspx_out = out;</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>ä»¥ä¸Šçš„è¿™äº›ä¸ªå¯¹è±¡æˆ‘ä»¬å¯ä»¥åœ¨JSPé¡µé¢ä¸­ç›´æ¥ä½¿ç”¨ï¼<br><img src="https://i.loli.net/2020/07/09/fqFxYXnH2ac7Ezb.png" alt=""></li>
</ol>
<p>åœ¨JSPé¡µé¢ä¸­ï¼›</p>
<p>åªè¦æ˜¯ JAVAä»£ç å°±ä¼šåŸå°ä¸åŠ¨çš„è¾“å‡ºï¼›</p>
<p>å¦‚æœæ˜¯HTMLä»£ç ï¼Œå°±ä¼šè¢«è½¬æ¢ä¸ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">out.write(<span class="string">"&lt;html&gt;\r\n"</span>);</span><br></pre></td></tr></table></figure>
<h3 id="JSPåŸºç¡€è¯­æ³•"><a href="#JSPåŸºç¡€è¯­æ³•" class="headerlink" title="JSPåŸºç¡€è¯­æ³•"></a>JSPåŸºç¡€è¯­æ³•</h3><p><strong>ä»»ä½•è¯­è¨€éƒ½æœ‰è‡ªå·±çš„è¯­æ³•ï¼ŒJAVAä¸­æœ‰,ã€‚ JSP ä½œä¸ºjavaæŠ€æœ¯çš„ä¸€ç§åº”ç”¨ï¼Œå®ƒæ‹¥æœ‰ä¸€äº›è‡ªå·±æ‰©å……çš„è¯­æ³•ï¼ˆäº†è§£ï¼ŒçŸ¥é“å³å¯ï¼ï¼‰ï¼ŒJavaæ‰€æœ‰è¯­æ³•éƒ½æ”¯æŒï¼</strong></p>
<blockquote>
<p>Jspè¡¨è¾¾å¼</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--JSPè¡¨è¾¾å¼</span><br><span class="line">ä½œç”¨ï¼šç”¨æ¥å°†ç¨‹åºçš„è¾“å‡ºï¼Œè¾“å‡ºåˆ°å®¢æˆ·ç«¯</span><br><span class="line">&lt;%= å˜é‡æˆ–è€…è¡¨è¾¾å¼%&gt;</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%= <span class="keyword">new</span> java.util.Date()%&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>Jspè„šæœ¬ç‰‡æ®µ</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;%--jspè„šæœ¬ç‰‡æ®µ--%&gt;</span><br><span class="line">&lt;%</span><br><span class="line">  <span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;=<span class="number">100</span> ; i++) &#123;</span><br><span class="line">    sum+=i;</span><br><span class="line">  &#125;</span><br><span class="line">  out.println(<span class="string">"&lt;h1&gt;Sum="</span>+sum+<span class="string">"&lt;/h1&gt;"</span>);</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è„šæœ¬ç‰‡æ®µçš„å†å®ç°<br>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">  <span class="attr">int</span> <span class="attr">x</span> = <span class="string">10;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">out.println</span>(<span class="attr">x</span>);</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªJSPæ–‡æ¡£<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">  <span class="attr">int</span> <span class="attr">y</span> = <span class="string">2;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">out.println</span>(<span class="attr">y</span>);</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">%--åœ¨ä»£ç åµŒå…¥HTMLå…ƒç´ --%</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line">  for (int i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">%&gt;</span><br><span class="line">  <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Hello,World  <span class="tag">&lt;<span class="name">%=i%</span>&gt;</span> <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span></span></span><br><span class="line"><span class="tag">  &#125;</span></span><br><span class="line"><span class="tag">%&gt;</span></span><br></pre></td></tr></table></figure><br>Jspå£°æ˜</p>
</blockquote>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%!</span><br><span class="line">  <span class="keyword">static</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">"Loading Servlet!"</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">int</span> globalVar = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">kuang</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"è¿›å…¥äº†æ–¹æ³•Kuangï¼"</span>);</span><br><span class="line">  &#125;</span><br><span class="line">%&gt;</span><br></pre></td></tr></table></figure>

<p>JSPå£°æ˜ï¼šä¼šè¢«ç¼–è¯‘åˆ°JSPç”ŸæˆJavaçš„ç±»ä¸­ï¼å…¶ä»–çš„ï¼Œå°±ä¼šè¢«ç”Ÿæˆåˆ°_jspServiceæ–¹æ³•ä¸­ï¼</p>
<p>åœ¨JSPï¼ŒåµŒå…¥Javaä»£ç å³å¯ï¼</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;%%&gt;</span><br><span class="line">&lt;%=%&gt;</span><br><span class="line">&lt;%!%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--æ³¨é‡Š--%&gt;</span><br></pre></td></tr></table></figure>
<p>JSPçš„æ³¨é‡Šï¼Œä¸ä¼šåœ¨å®¢æˆ·ç«¯æ˜¾ç¤ºï¼ŒHTMLå°±ä¼šï¼</p>
<h3 id="JspæŒ‡ä»¤"><a href="#JspæŒ‡ä»¤" class="headerlink" title="JspæŒ‡ä»¤"></a>JspæŒ‡ä»¤</h3><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%<span class="meta">@page</span> args.... %&gt;</span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">""</span>%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--<span class="meta">@include</span>ä¼šå°†ä¸¤ä¸ªé¡µé¢åˆäºŒä¸ºä¸€--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">"common/header.jsp"</span>%&gt;</span><br><span class="line">&lt;h1&gt;ç½‘é¡µä¸»ä½“&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">&lt;%<span class="meta">@include</span> file=<span class="string">"common/footer.jsp"</span>%&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--jSPæ ‡ç­¾</span><br><span class="line">    jsp:includeï¼šæ‹¼æ¥é¡µé¢ï¼Œæœ¬è´¨è¿˜æ˜¯ä¸‰ä¸ª</span><br><span class="line">    --%&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">"/common/header.jsp"</span>/&gt;</span><br><span class="line">&lt;h1&gt;ç½‘é¡µä¸»ä½“&lt;/h1&gt;</span><br><span class="line">&lt;jsp:include page=<span class="string">"/common/footer.jsp"</span>/&gt;</span><br></pre></td></tr></table></figure>

<h3 id="9å¤§å†…ç½®å¯¹è±¡"><a href="#9å¤§å†…ç½®å¯¹è±¡" class="headerlink" title="9å¤§å†…ç½®å¯¹è±¡"></a>9å¤§å†…ç½®å¯¹è±¡</h3><ul>
<li>PageContext å­˜ä¸œè¥¿</li>
<li>Request å­˜ä¸œè¥¿</li>
<li>Response</li>
<li>Session å­˜ä¸œè¥¿</li>
<li>Application ã€SerlvetContextã€‘ å­˜ä¸œè¥¿</li>
<li>config ã€SerlvetConfigã€‘</li>
<li>out</li>
<li>page ï¼Œä¸ç”¨äº†è§£</li>
<li>exception</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pageContext.setAttribute(<span class="string">"name1"</span>,<span class="string">"ç§¦ç–†1å·"</span>); <span class="comment">//ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€ä¸ªé¡µé¢ä¸­æœ‰æ•ˆ</span></span><br><span class="line">request.setAttribute(<span class="string">"name2"</span>,<span class="string">"ç§¦ç–†2å·"</span>); <span class="comment">//ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­æœ‰æ•ˆï¼Œè¯·æ±‚è½¬å‘ä¼šæºå¸¦è¿™ä¸ªæ•°æ®</span></span><br><span class="line">session.setAttribute(<span class="string">"name3"</span>,<span class="string">"ç§¦ç–†3å·"</span>); <span class="comment">//ä¿å­˜çš„æ•°æ®åªåœ¨ä¸€æ¬¡ä¼šè¯ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æµè§ˆå™¨åˆ°å…³é—­æµè§ˆå™¨</span></span><br><span class="line">application.setAttribute(<span class="string">"name4"</span>,<span class="string">"ç§¦ç–†4å·"</span>);  <span class="comment">//ä¿å­˜çš„æ•°æ®åªåœ¨æœåŠ¡å™¨ä¸­æœ‰æ•ˆï¼Œä»æ‰“å¼€æœåŠ¡å™¨åˆ°å…³é—­æœåŠ¡å™¨</span></span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/07/09/ob4gKTLWeEAiaOR.png" alt=""></p>
<p>requestï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·çœ‹å®Œå°±æ²¡ç”¨äº†ï¼Œæ¯”å¦‚ï¼šæ–°é—»ï¼Œç”¨æˆ·çœ‹å®Œæ²¡ç”¨çš„ï¼</p>
<p>sessionï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œç”¨æˆ·ç”¨å®Œä¸€ä¼šè¿˜æœ‰ç”¨ï¼Œæ¯”å¦‚ï¼šè´­ç‰©è½¦ï¼›</p>
<p>applicationï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œäº§ç”Ÿçš„æ•°æ®ï¼Œä¸€ä¸ªç”¨æˆ·ç”¨å®Œäº†ï¼Œå…¶ä»–ç”¨æˆ·è¿˜å¯èƒ½ä½¿ç”¨ï¼Œæ¯”å¦‚ï¼šèŠå¤©æ•°æ®ï¼›</p>
<h3 id="JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼"><a href="#JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼" class="headerlink" title="JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼"></a>JSPæ ‡ç­¾ã€JSTLæ ‡ç­¾ã€ELè¡¨è¾¾å¼</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- JSTLè¡¨è¾¾å¼çš„ä¾èµ– --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp.jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- standardæ ‡ç­¾åº“ --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>taglibs<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>standard<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ELè¡¨è¾¾å¼ï¼š ${ }</p>
<ul>
<li><strong>è·å–æ•°æ®</strong></li>
<li><strong>æ‰§è¡Œè¿ç®—</strong></li>
<li><strong>è·å–webå¼€å‘çš„å¸¸ç”¨å¯¹è±¡</strong><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--jsp:include--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line">http:<span class="comment">//localhost:8080/jsptag.jsp?name=kuangshen&amp;age=12</span></span><br><span class="line">--%&gt;</span><br><span class="line"></span><br><span class="line">&lt;jsp:forward page=<span class="string">"/jsptag2.jsp"</span>&gt;</span><br><span class="line">    &lt;jsp:param name="name" value="kuangshen"&gt;&lt;/jsp:param&gt;</span><br><span class="line">    &lt;jsp:param name="age" value="12"&gt;&lt;/jsp:param&gt;</span><br><span class="line">&lt;/jsp:forward&gt;</span><br></pre></td></tr></table></figure></li>
<li><em>JSTLè¡¨è¾¾å¼*</em></li>
</ul>
<p>JSTLæ ‡ç­¾åº“çš„ä½¿ç”¨å°±æ˜¯ä¸ºäº†å¼¥è¡¥HTMLæ ‡ç­¾çš„ä¸è¶³ï¼›å®ƒè‡ªå®šä¹‰è®¸å¤šæ ‡ç­¾ï¼Œå¯ä»¥ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œæ ‡ç­¾çš„åŠŸèƒ½å’ŒJavaä»£ç ä¸€æ ·ï¼</p>
<p><strong>æ ¼å¼åŒ–æ ‡ç­¾</strong><br><strong>SQLæ ‡ç­¾</strong><br><strong>XML æ ‡ç­¾</strong><br><strong>æ ¸å¿ƒæ ‡ç­¾ ï¼ˆæŒæ¡éƒ¨åˆ†ï¼‰</strong></p>
<p><img src="https://i.loli.net/2020/07/09/EocFL27hOnzlGAj.png" alt=""></p>
<p><strong>JSTLæ ‡ç­¾åº“ä½¿ç”¨æ­¥éª¤</strong></p>
<ul>
<li>å¼•å…¥å¯¹åº”çš„ taglib</li>
<li>ä½¿ç”¨å…¶ä¸­çš„æ–¹æ³•</li>
<li><strong>åœ¨Tomcat ä¹Ÿéœ€è¦å¼•å…¥ jstlçš„åŒ…ï¼Œå¦åˆ™ä¼šæŠ¥é”™ï¼šJSTLè§£æé”™è¯¯</strong></li>
</ul>
<blockquote>
<p><strong>cï¼šif</strong></p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;h4&gt;ifæµ‹è¯•&lt;/h4&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;form action=<span class="string">"coreif.jsp"</span> method=<span class="string">"get"</span>&gt;</span><br><span class="line">    &lt;%--</span><br><span class="line">    ELè¡¨è¾¾å¼è·å–è¡¨å•ä¸­çš„æ•°æ®</span><br><span class="line">    $&#123;param.å‚æ•°å&#125;</span><br><span class="line">    --%&gt;</span><br><span class="line">    &lt;input type=<span class="string">"text"</span> name=<span class="string">"username"</span> value=<span class="string">"$&#123;param.username&#125;"</span>&gt;</span><br><span class="line">    &lt;input type=<span class="string">"submit"</span> value=<span class="string">"ç™»å½•"</span>&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--åˆ¤æ–­å¦‚æœæäº¤çš„ç”¨æˆ·åæ˜¯ç®¡ç†å‘˜ï¼Œåˆ™ç™»å½•æˆåŠŸ--%&gt;</span><br><span class="line">&lt;c:<span class="keyword">if</span> test=<span class="string">"$&#123;param.username=='admin'&#125;"</span> <span class="keyword">var</span>=<span class="string">"isAdmin"</span>&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">"ç®¡ç†å‘˜æ¬¢è¿æ‚¨ï¼"</span>/&gt;</span><br><span class="line">&lt;/c:if&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--è‡ªé—­åˆæ ‡ç­¾--%&gt;</span><br><span class="line">&lt;c:out value=<span class="string">"$&#123;isAdmin&#125;"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>c:choose c:when</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line"></span><br><span class="line">&lt;%--å®šä¹‰ä¸€ä¸ªå˜é‡scoreï¼Œå€¼ä¸º<span class="number">85</span>--%&gt;</span><br><span class="line">&lt;c:set <span class="keyword">var</span>=<span class="string">"score"</span> value=<span class="string">"55"</span>/&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:choose&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">"$&#123;score&gt;=90&#125;"</span>&gt;</span><br><span class="line">        ä½ çš„æˆç»©ä¸ºä¼˜ç§€</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">"$&#123;score&gt;=80&#125;"</span>&gt;</span><br><span class="line">        ä½ çš„æˆç»©ä¸ºä¸€èˆ¬</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">"$&#123;score&gt;=70&#125;"</span>&gt;</span><br><span class="line">        ä½ çš„æˆç»©ä¸ºè‰¯å¥½</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">    &lt;c:when test=<span class="string">"$&#123;score&lt;=60&#125;"</span>&gt;</span><br><span class="line">        ä½ çš„æˆç»©ä¸ºä¸åŠæ ¼</span><br><span class="line">    &lt;/c:when&gt;</span><br><span class="line">&lt;/c:choose&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br></pre></td></tr></table></figure>


<blockquote>
<p>c:forEach</p>
</blockquote>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line"></span><br><span class="line">    ArrayList&lt;String&gt; people = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">    people.add(<span class="number">0</span>,<span class="string">"å¼ ä¸‰"</span>);</span><br><span class="line">    people.add(<span class="number">1</span>,<span class="string">"æå››"</span>);</span><br><span class="line">    people.add(<span class="number">2</span>,<span class="string">"ç‹äº”"</span>);</span><br><span class="line">    people.add(<span class="number">3</span>,<span class="string">"èµµå…­"</span>);</span><br><span class="line">    people.add(<span class="number">4</span>,<span class="string">"ç”°å…­"</span>);</span><br><span class="line">    request.setAttribute(<span class="string">"list"</span>,people);</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;%--</span><br><span class="line"><span class="keyword">var</span> , æ¯ä¸€æ¬¡éå†å‡ºæ¥çš„å˜é‡</span><br><span class="line">items, è¦éå†çš„å¯¹è±¡</span><br><span class="line">begin,   å“ªé‡Œå¼€å§‹</span><br><span class="line">end,     åˆ°å“ªé‡Œ</span><br><span class="line">step,   æ­¥é•¿</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;c:forEach <span class="keyword">var</span>=<span class="string">"people"</span> items=<span class="string">"$&#123;list&#125;"</span>&gt;</span><br><span class="line">    &lt;c:out value=<span class="string">"$&#123;people&#125;"</span>/&gt; &lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br><span class="line"></span><br><span class="line">&lt;hr&gt;</span><br><span class="line"></span><br><span class="line">&lt;c:forEach <span class="keyword">var</span>=<span class="string">"people"</span> items=<span class="string">"$&#123;list&#125;"</span> begin=<span class="string">"1"</span> end=<span class="string">"3"</span> step=<span class="string">"1"</span> &gt;</span><br><span class="line">    &lt;c:out value=<span class="string">"$&#123;people&#125;"</span>/&gt; &lt;br&gt;</span><br><span class="line">&lt;/c:forEach&gt;</span><br></pre></td></tr></table></figure>


<h1 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h1><p>å®ä½“ç±»<br>JavaBeanæœ‰ç‰¹å®šçš„å†™æ³•ï¼š</p>
<ul>
<li>å¿…é¡»è¦æœ‰ä¸€ä¸ªæ— å‚æ„é€ </li>
<li>å±æ€§å¿…é¡»ç§æœ‰åŒ–</li>
<li>å¿…é¡»æœ‰å¯¹åº”çš„get/setæ–¹æ³•</li>
</ul>
<p>ä¸€èˆ¬ç”¨æ¥å’Œæ•°æ®åº“çš„å­—æ®µåšæ˜ å°„ ORM<br>ORMï¼šå¯¹è±¡å…³ç³»æ˜ å°„</p>
<ul>
<li>è¡¨-&gt;ç±»</li>
<li>å­—æ®µ-&gt;å±æ€§</li>
<li>è¡Œè®°å½•-&gt;å¯¹è±¡</li>
</ul>
<table>
<thead>
<tr>
<th>id</th>
<th align="left">name</th>
<th align="center">age</th>
<th align="right">address</th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td align="left">le1</td>
<td align="center">3</td>
<td align="right">xian</td>
</tr>
<tr>
<td>2</td>
<td align="left">le2</td>
<td align="center">4</td>
<td align="right">xian</td>
</tr>
<tr>
<td>3</td>
<td align="left">le3</td>
<td align="center">33</td>
<td align="right">xian</td>
</tr>
</tbody></table>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">people</span></span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String</span><br><span class="line">    address;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span></span>&#123;</span><br><span class="line">    <span class="keyword">new</span> people(<span class="number">1</span>,<span class="string">"le1"</span>,<span class="string">"3"</span>);</span><br><span class="line">     <span class="keyword">new</span> people(<span class="number">2</span>,<span class="string">"le2"</span>,<span class="string">"4"</span>);</span><br><span class="line">      <span class="keyword">new</span> people(<span class="number">3</span>,<span class="string">"le3"</span>,<span class="string">"33"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>è¿‡æ»¤å™¨</li>
<li>æ–‡ä»¶ä¸Šä¼ </li>
<li>é‚®ä»¶å‘é€</li>
<li>JDBCå¤ä¹ ï¼šå¦‚ä½•ä½¿ç”¨JDBCï¼ŒJDBC crudï¼ŒJDBCäº‹åŠ¡</li>
</ul>
<h1 id="MVCä¸‰å±‚æ¶æ„"><a href="#MVCä¸‰å±‚æ¶æ„" class="headerlink" title="MVCä¸‰å±‚æ¶æ„"></a>MVCä¸‰å±‚æ¶æ„</h1><ul>
<li>ä»€ä¹ˆæ˜¯MVCï¼š Model view Controller æ¨¡å‹ã€è§†å›¾ã€æ§åˆ¶å™¨</li>
</ul>
<h2 id="ä»¥å‰çš„æ¶æ„"><a href="#ä»¥å‰çš„æ¶æ„" class="headerlink" title="ä»¥å‰çš„æ¶æ„"></a>ä»¥å‰çš„æ¶æ„</h2><p><img src="https://i.loli.net/2020/07/09/navN9dDoljKHYqh.png" alt=""></p>
<p>ç”¨æˆ·ç›´æ¥è®¿é—®æ§åˆ¶å±‚ï¼Œæ§åˆ¶å±‚å°±å¯ä»¥ç›´æ¥æ“ä½œæ•°æ®åº“ï¼›</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">servlet--CRUD--&gt;æ•°æ®åº“</span><br><span class="line">å¼Šç«¯ï¼šç¨‹åºååˆ†è‡ƒè‚¿ï¼Œä¸åˆ©äºç»´æŠ¤  </span><br><span class="line">servletçš„ä»£ç ä¸­ï¼šå¤„ç†è¯·æ±‚ã€å“åº”ã€è§†å›¾è·³è½¬ã€å¤„ç†JDBCã€å¤„ç†ä¸šåŠ¡ä»£ç ã€å¤„ç†é€»è¾‘ä»£ç </span><br><span class="line"></span><br><span class="line">æ¶æ„ï¼šæ²¡æœ‰ä»€ä¹ˆæ˜¯åŠ ä¸€å±‚è§£å†³ä¸äº†çš„ï¼</span><br><span class="line">ç¨‹åºçŒ¿è°ƒç”¨</span><br><span class="line">â†‘</span><br><span class="line">JDBC ï¼ˆå®ç°è¯¥æ¥å£ï¼‰</span><br><span class="line">â†‘</span><br><span class="line">Mysql Oracle SqlServer ....ï¼ˆä¸åŒå‚å•†ï¼‰</span><br></pre></td></tr></table></figure>

<h2 id="MVCä¸‰å±‚æ¶æ„-1"><a href="#MVCä¸‰å±‚æ¶æ„-1" class="headerlink" title="MVCä¸‰å±‚æ¶æ„"></a>MVCä¸‰å±‚æ¶æ„</h2><p><img src="https://i.loli.net/2020/07/09/ojYKenBCx761MG4.png" alt=""><br><strong>Model</strong></p>
<ul>
<li><p>ä¸šåŠ¡å¤„ç† ï¼šä¸šåŠ¡é€»è¾‘ï¼ˆServiceï¼‰</p>
</li>
<li><p>æ•°æ®æŒä¹…å±‚ï¼šCRUD ï¼ˆDao - æ•°æ®æŒä¹…åŒ–å¯¹è±¡ï¼‰</p>
</li>
<li><p><em>View*</em></p>
</li>
<li><p>å±•ç¤ºæ•°æ®</p>
</li>
<li><p>æä¾›é“¾æ¥å‘èµ·Servletè¯·æ±‚ ï¼ˆaï¼Œformï¼Œimgâ€¦ï¼‰</p>
</li>
<li><p><em>Controller ï¼ˆServletï¼‰*</em></p>
</li>
<li><p>æ¥æ”¶ç”¨æˆ·çš„è¯·æ±‚ ï¼šï¼ˆreqï¼šè¯·æ±‚å‚æ•°ã€Sessionä¿¡æ¯â€¦.ï¼‰</p>
</li>
<li><p>äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†å¯¹åº”çš„ä»£ç </p>
</li>
<li><p>æ§åˆ¶è§†å›¾çš„è·³è½¬</p>
</li>
</ul>
<p>ç™»å½•â€”&gt;æ¥æ”¶ç”¨æˆ·çš„ç™»å½•è¯·æ±‚â€”&gt;å¤„ç†ç”¨æˆ·çš„è¯·æ±‚ï¼ˆè·å–ç”¨æˆ·ç™»å½•çš„å‚æ•°ï¼Œusernameï¼Œpasswordï¼‰â€”-&gt;äº¤ç»™ä¸šåŠ¡å±‚å¤„ç†ç™»å½•ä¸šåŠ¡ï¼ˆåˆ¤æ–­ç”¨æˆ·åå¯†ç æ˜¯å¦æ­£ç¡®ï¼šäº‹åŠ¡ï¼‰â€”&gt;Daoå±‚æŸ¥è¯¢ç”¨æˆ·åå’Œå¯†ç æ˜¯å¦æ­£ç¡®â€“&gt;æ•°æ®åº“</p>
<h1 id="Filterï¼ˆé‡ç‚¹ï¼‰"><a href="#Filterï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="Filterï¼ˆé‡ç‚¹ï¼‰"></a>Filterï¼ˆé‡ç‚¹ï¼‰</h1><p>æ¯”å¦‚ Shiroå®‰å…¨æ¡†æ¶æŠ€æœ¯å°±æ˜¯ç”¨Filteræ¥å®ç°çš„</p>
<p>Filterï¼šè¿‡æ»¤å™¨ ï¼Œç”¨æ¥è¿‡æ»¤ç½‘ç«™çš„æ•°æ®ï¼›</p>
<ul>
<li>å¤„ç†ä¸­æ–‡ä¹±ç </li>
<li>ç™»å½•éªŒè¯â€¦.<br><img src="https://i.loli.net/2020/07/09/rA5oXEMkhFTmGBa.png" alt=""></li>
</ul>
<p>Filterå¼€å‘æ­¥éª¤ï¼š</p>
<ol>
<li><p>å¯¼åŒ…</p>
</li>
<li><p>ç¼–å†™è¿‡æ»¤å™¨</p>
<ol>
<li>å¯¼åŒ…ä¸è¦é”™ ï¼ˆæ³¨æ„ï¼‰<br><img src="https://i.loli.net/2020/07/09/Q4kpIzrNcdeybxf.png" alt=""></li>
</ol>
</li>
</ol>
<p>å®ç°Filteræ¥å£ï¼Œé‡å†™å¯¹åº”çš„æ–¹æ³•å³å¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CharacterEncodingFilter</span> <span class="keyword">implements</span> <span class="title">Filter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆå§‹åŒ–ï¼šwebæœåŠ¡å™¨å¯åŠ¨ï¼Œå°±ä»¥åŠåˆå§‹åŒ–äº†ï¼Œéšæ—¶ç­‰å¾…è¿‡æ»¤å¯¹è±¡å‡ºç°ï¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"CharacterEncodingFilteråˆå§‹åŒ–"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//Chain : é“¾</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    1. è¿‡æ»¤ä¸­çš„æ‰€æœ‰ä»£ç ï¼Œåœ¨è¿‡æ»¤ç‰¹å®šè¯·æ±‚çš„æ—¶å€™éƒ½ä¼šæ‰§è¡Œ</span></span><br><span class="line"><span class="comment">    2. å¿…é¡»è¦è®©è¿‡æ»¤å™¨ç»§ç»­åŒè¡Œ</span></span><br><span class="line"><span class="comment">        chain.doFilter(request,response);</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException </span>&#123;</span><br><span class="line">        request.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">"utf-8"</span>);</span><br><span class="line">        response.setContentType(<span class="string">"text/html;charset=UTF-8"</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"CharacterEncodingFilteræ‰§è¡Œå‰...."</span>);</span><br><span class="line">        chain.doFilter(request,response); <span class="comment">//è®©æˆ‘ä»¬çš„è¯·æ±‚ç»§ç»­èµ°ï¼Œå¦‚æœä¸å†™ï¼Œç¨‹åºåˆ°è¿™é‡Œå°±è¢«æ‹¦æˆªåœæ­¢ï¼</span></span><br><span class="line">        System.out.println(<span class="string">"CharacterEncodingFilteræ‰§è¡Œå...."</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é”€æ¯ï¼šwebæœåŠ¡å™¨å…³é—­çš„æ—¶å€™ï¼Œè¿‡æ»¤å™¨ä¼šé”€æ¯</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"CharacterEncodingFilteré”€æ¯"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p><strong>3.åœ¨web.xmlä¸­é…ç½® Filter</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.kuang.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åªè¦æ˜¯ /servletçš„ä»»ä½•è¯·æ±‚ï¼Œä¼šç»è¿‡è¿™ä¸ªè¿‡æ»¤å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servlet/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--&lt;url-pattern&gt;/*&lt;/url-pattern&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åˆ«å·æ‡’å†™ä¸ª /* --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="ç›‘å¬å™¨"><a href="#ç›‘å¬å™¨" class="headerlink" title="ç›‘å¬å™¨"></a>ç›‘å¬å™¨</h1><p>å®ç°ä¸€ä¸ªç›‘å¬å™¨çš„æ¥å£ï¼›ï¼ˆæœ‰nç§ç›‘å¬å™¨</p>
<ol>
<li>ç¼–å†™ä¸€ä¸ªç›‘å¬å™¨</li>
</ol>
<p>å®ç°ç›‘å¬å™¨çš„æ¥å£â€¦</p>
<p><img src="https://i.loli.net/2020/07/09/wls2AEZif3O58e7.png" alt=""></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç»Ÿè®¡ç½‘ç«™åœ¨çº¿äººæ•° ï¼š ç»Ÿè®¡session</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">OnlineCountListener</span> <span class="keyword">implements</span> <span class="title">HttpSessionListener</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ›å»ºsessionç›‘å¬ï¼š çœ‹ä½ çš„ä¸€ä¸¾ä¸€åŠ¨</span></span><br><span class="line">    <span class="comment">//ä¸€æ—¦åˆ›å»ºSessionå°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶ï¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionCreated</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">        ServletContext ctx = se.getSession().getServletContext();</span><br><span class="line"></span><br><span class="line">        System.out.println(se.getSession().getId());</span><br><span class="line"></span><br><span class="line">        Integer onlineCount = (Integer) ctx.getAttribute(<span class="string">"OnlineCount"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (onlineCount==<span class="keyword">null</span>)&#123;</span><br><span class="line">            onlineCount = <span class="keyword">new</span> Integer(<span class="number">1</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> count = onlineCount.intValue();</span><br><span class="line">            onlineCount = <span class="keyword">new</span> Integer(count+<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ctx.setAttribute(<span class="string">"OnlineCount"</span>,onlineCount);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é”€æ¯sessionç›‘å¬</span></span><br><span class="line">    <span class="comment">//ä¸€æ—¦é”€æ¯Sessionå°±ä¼šè§¦å‘ä¸€æ¬¡è¿™ä¸ªäº‹ä»¶ï¼</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">sessionDestroyed</span><span class="params">(HttpSessionEvent se)</span> </span>&#123;</span><br><span class="line">        ServletContext ctx = se.getSession().getServletContext();</span><br><span class="line"></span><br><span class="line">        Integer onlineCount = (Integer) ctx.getAttribute(<span class="string">"OnlineCount"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (onlineCount==<span class="keyword">null</span>)&#123;</span><br><span class="line">            onlineCount = <span class="keyword">new</span> Integer(<span class="number">0</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">int</span> count = onlineCount.intValue();</span><br><span class="line">            onlineCount = <span class="keyword">new</span> Integer(count-<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ctx.setAttribute(<span class="string">"OnlineCount"</span>,onlineCount);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    Sessioné”€æ¯ï¼š</span></span><br><span class="line"><span class="comment">    1. æ‰‹åŠ¨é”€æ¯  getSession().invalidate();</span></span><br><span class="line"><span class="comment">    2. è‡ªåŠ¨é”€æ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>2. web.xmlä¸­æ³¨å†Œç›‘å¬å™¨</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--æ³¨å†Œç›‘å¬å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.kuang.listener.OnlineCountListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>3.çœ‹æƒ…å†µæ˜¯å¦ä½¿ç”¨ï¼</strong></p>
<p><strong>ç›‘å¬å™¨ï¼šGUIç¼–ç¨‹ä¸­ç»å¸¸ä½¿ç”¨ï¼›</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestPanel</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Frame frame = <span class="keyword">new</span> Frame(<span class="string">"ä¸­ç§‹èŠ‚å¿«ä¹"</span>);  <span class="comment">//æ–°å»ºä¸€ä¸ªçª—ä½“</span></span><br><span class="line">        Panel panel = <span class="keyword">new</span> Panel(<span class="keyword">null</span>); <span class="comment">//é¢æ¿</span></span><br><span class="line">        frame.setLayout(<span class="keyword">null</span>); <span class="comment">//è®¾ç½®çª—ä½“çš„å¸ƒå±€</span></span><br><span class="line"></span><br><span class="line">        frame.setBounds(<span class="number">300</span>,<span class="number">300</span>,<span class="number">500</span>,<span class="number">500</span>);</span><br><span class="line">        frame.setBackground(<span class="keyword">new</span> Color(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>)); <span class="comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span></span><br><span class="line"></span><br><span class="line">        panel.setBounds(<span class="number">50</span>,<span class="number">50</span>,<span class="number">300</span>,<span class="number">300</span>);</span><br><span class="line">        panel.setBackground(<span class="keyword">new</span> Color(<span class="number">0</span>,<span class="number">255</span>,<span class="number">0</span>)); <span class="comment">//è®¾ç½®èƒŒæ™¯é¢œè‰²</span></span><br><span class="line"></span><br><span class="line">        frame.add(panel);</span><br><span class="line"></span><br><span class="line">        frame.setVisible(<span class="keyword">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç›‘å¬äº‹ä»¶ï¼Œç›‘å¬å…³é—­äº‹ä»¶</span></span><br><span class="line">        frame.addWindowListener(<span class="keyword">new</span> WindowAdapter() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">windowClosing</span><span class="params">(WindowEvent e)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">super</span>.windowClosing(e);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç”¨æˆ·ç™»å½•ä¹‹åæ‰èƒ½è¿›å…¥ä¸»é¡µï¼ç”¨æˆ·æ³¨é”€åå°±ä¸èƒ½è¿›å…¥ä¸»é¡µäº†ï¼</p>
<ol>
<li><strong>ç”¨æˆ·ç™»å½•ä¹‹åï¼Œå‘Sesisonä¸­æ”¾å…¥ç”¨æˆ·çš„æ•°æ®</strong></li>
<li><strong>è¿›å…¥ä¸»é¡µçš„æ—¶å€™è¦åˆ¤æ–­ç”¨æˆ·æ˜¯å¦å·²ç»ç™»å½•ï¼›è¦æ±‚ï¼šåœ¨è¿‡æ»¤å™¨ä¸­å®ç°ï¼</strong></li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">HttpServletRequest request = (HttpServletRequest) req;</span><br><span class="line">HttpServletResponse response = (HttpServletResponse) resp;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (request.getSession().getAttribute(Constant.USER_SESSION)==<span class="keyword">null</span>)&#123;</span><br><span class="line">    response.sendRedirect(<span class="string">"/error.jsp"</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">chain.doFilter(request,response);</span><br></pre></td></tr></table></figure>

<h1 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h1><p>ä»€ä¹ˆæ˜¯JDBC ï¼š Javaè¿æ¥æ•°æ®åº“ï¼<br><img src="https://i.loli.net/2020/07/09/dj8EeyGVk95wY3C.png" alt=""></p>
<p>éœ€è¦jaråŒ…çš„æ”¯æŒï¼š</p>
<ul>
<li>java.sql</li>
<li>javax.sql</li>
<li>mysql-conneter-javaâ€¦ è¿æ¥é©±åŠ¨ï¼ˆå¿…é¡»è¦å¯¼å…¥ï¼‰</li>
</ul>
<p><strong>å®éªŒç¯å¢ƒæ­å»º</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">users</span>(</span><br><span class="line">    <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span>,</span><br><span class="line">    <span class="string">`name`</span> <span class="built_in">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">    <span class="string">`password`</span> <span class="built_in">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">    email <span class="built_in">VARCHAR</span>(<span class="number">60</span>),</span><br><span class="line">    birthday <span class="built_in">DATE</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">users</span>(<span class="keyword">id</span>,<span class="string">`name`</span>,<span class="string">`password`</span>,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">1</span>,<span class="string">'å¼ ä¸‰'</span>,<span class="string">'123456'</span>,<span class="string">'zs@qq.com'</span>,<span class="string">'2000-01-01'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">users</span>(<span class="keyword">id</span>,<span class="string">`name`</span>,<span class="string">`password`</span>,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">2</span>,<span class="string">'æå››'</span>,<span class="string">'123456'</span>,<span class="string">'ls@qq.com'</span>,<span class="string">'2000-01-01'</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">users</span>(<span class="keyword">id</span>,<span class="string">`name`</span>,<span class="string">`password`</span>,email,birthday)</span><br><span class="line"><span class="keyword">VALUES</span>(<span class="number">3</span>,<span class="string">'ç‹äº”'</span>,<span class="string">'123456'</span>,<span class="string">'ww@qq.com'</span>,<span class="string">'2000-01-01'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">SELECT</span>	* <span class="keyword">FROM</span> <span class="keyword">users</span>;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mysqlçš„é©±åŠ¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>IDEAä¸­è¿æ¥æ•°æ®åº“<br><img src="https://i.loli.net/2020/07/09/96xLXodqW8zs4JC.png" alt=""><br><strong>JDBC å›ºå®šæ­¥éª¤ï¼š</strong></p>
<ol>
<li>åŠ è½½é©±åŠ¨</li>
<li>è¿æ¥æ•°æ®åº“,ä»£è¡¨æ•°æ®åº“</li>
<li>å‘æ•°æ®åº“å‘é€SQLçš„å¯¹è±¡Statement : CRUD</li>
<li>ç¼–å†™SQL ï¼ˆæ ¹æ®ä¸šåŠ¡ï¼Œä¸åŒçš„SQLï¼‰</li>
<li>æ‰§è¡ŒSQL</li>
<li>å…³é—­è¿æ¥ï¼ˆå…ˆå¼€çš„åå…³ï¼‰</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">   <span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestJdbc</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException </span>&#123;</span><br><span class="line">        <span class="comment">//é…ç½®ä¿¡æ¯</span></span><br><span class="line">        <span class="comment">//useUnicode=true&amp;characterEncoding=utf-8 è§£å†³ä¸­æ–‡ä¹±ç </span></span><br><span class="line">        String url=<span class="string">"jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8"</span>;</span><br><span class="line">        String username = <span class="string">"root"</span>;</span><br><span class="line">        String password = <span class="string">"123456"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.åŠ è½½é©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        <span class="comment">//2.è¿æ¥æ•°æ®åº“,ä»£è¡¨æ•°æ®åº“</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(url, username, password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å‘æ•°æ®åº“å‘é€SQLçš„å¯¹è±¡Statement,PreparedStatement : CRUD</span></span><br><span class="line">        Statement statement = connection.createStatement();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.ç¼–å†™SQL</span></span><br><span class="line">        String sql = <span class="string">"select * from users"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.æ‰§è¡ŒæŸ¥è¯¢SQLï¼Œè¿”å›ä¸€ä¸ª ResultSet  ï¼š ç»“æœé›†</span></span><br><span class="line">        ResultSet rs = statement.executeQuery(sql);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (rs.next())&#123;</span><br><span class="line">            System.out.println(<span class="string">"id="</span>+rs.getObject(<span class="string">"id"</span>));</span><br><span class="line">            System.out.println(<span class="string">"name="</span>+rs.getObject(<span class="string">"name"</span>));</span><br><span class="line">            System.out.println(<span class="string">"password="</span>+rs.getObject(<span class="string">"password"</span>));</span><br><span class="line">            System.out.println(<span class="string">"email="</span>+rs.getObject(<span class="string">"email"</span>));</span><br><span class="line">            System.out.println(<span class="string">"birthday="</span>+rs.getObject(<span class="string">"birthday"</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.å…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æºï¼ˆä¸€å®šè¦åšï¼‰ å…ˆå¼€åå…³</span></span><br><span class="line">        rs.close();</span><br><span class="line">        statement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>é¢„ç¼–è¯‘SQL</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestJDBC2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//é…ç½®ä¿¡æ¯</span></span><br><span class="line">        <span class="comment">//useUnicode=true&amp;characterEncoding=utf-8 è§£å†³ä¸­æ–‡ä¹±ç </span></span><br><span class="line">        String url=<span class="string">"jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8"</span>;</span><br><span class="line">        String username = <span class="string">"root"</span>;</span><br><span class="line">        String password = <span class="string">"123456"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1.åŠ è½½é©±åŠ¨</span></span><br><span class="line">        Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        <span class="comment">//2.è¿æ¥æ•°æ®åº“,ä»£è¡¨æ•°æ®åº“</span></span><br><span class="line">        Connection connection = DriverManager.getConnection(url, username, password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.ç¼–å†™SQL</span></span><br><span class="line">        String sql = <span class="string">"insert into  users(id, name, password, email, birthday) values (?,?,?,?,?);"</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.é¢„ç¼–è¯‘</span></span><br><span class="line">        PreparedStatement preparedStatement = connection.prepareStatement(sql);</span><br><span class="line"></span><br><span class="line">        preparedStatement.setInt(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//ç»™ç¬¬ä¸€ä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸º1ï¼›</span></span><br><span class="line">        preparedStatement.setString(<span class="number">2</span>,<span class="string">"ç‹‚ç¥è¯´Java"</span>);<span class="comment">//ç»™ç¬¬äºŒä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸ºç‹‚ç¥è¯´Javaï¼›</span></span><br><span class="line">        preparedStatement.setString(<span class="number">3</span>,<span class="string">"123456"</span>);<span class="comment">//ç»™ç¬¬ä¸‰ä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸º123456ï¼›</span></span><br><span class="line">        preparedStatement.setString(<span class="number">4</span>,<span class="string">"24736743@qq.com"</span>);<span class="comment">//ç»™ç¬¬å››ä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸º1ï¼›</span></span><br><span class="line">        preparedStatement.setDate(<span class="number">5</span>,<span class="keyword">new</span> Date(<span class="keyword">new</span> java.util.Date().getTime()));<span class="comment">//ç»™ç¬¬äº”ä¸ªå ä½ç¬¦ï¼Ÿ çš„å€¼èµ‹å€¼ä¸ºnew Date(new java.util.Date().getTime())ï¼›</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.æ‰§è¡ŒSQL</span></span><br><span class="line">        <span class="keyword">int</span> i = preparedStatement.executeUpdate();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (i&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">"æ’å…¥æˆåŠŸ@"</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//6.å…³é—­è¿æ¥ï¼Œé‡Šæ”¾èµ„æºï¼ˆä¸€å®šè¦åšï¼‰ å…ˆå¼€åå…³</span></span><br><span class="line">        preparedStatement.close();</span><br><span class="line">        connection.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>äº‹åŠ¡</p>
<p>è¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼</p>
<p>ACIDåŸåˆ™ï¼šä¿è¯æ•°æ®çš„å®‰å…¨ã€‚</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">å¼€å¯äº‹åŠ¡</span><br><span class="line">äº‹åŠ¡æäº¤  commit()</span><br><span class="line">äº‹åŠ¡å›æ»š  rollback()</span><br><span class="line">å…³é—­äº‹åŠ¡</span><br><span class="line"></span><br><span class="line">è½¬è´¦ï¼š</span><br><span class="line">A:<span class="number">1000</span></span><br><span class="line">B:<span class="number">1000</span></span><br><span class="line">    </span><br><span class="line">A(<span class="number">900</span>)   -<span class="number">-100</span>--&gt;   B(<span class="number">1100</span>)</span><br></pre></td></tr></table></figure>

<p><strong>Junitå•å…ƒæµ‹è¯•</strong></p>
<p>ä¾èµ–</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--å•å…ƒæµ‹è¯•--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>


<p>ç®€å•ä½¿ç”¨</p>
<p>@Testæ³¨è§£åªæœ‰åœ¨æ–¹æ³•ä¸Šæœ‰æ•ˆï¼Œåªè¦åŠ äº†è¿™ä¸ªæ³¨è§£çš„æ–¹æ³•ï¼Œå°±å¯ä»¥ç›´æ¥è¿è¡Œï¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    System.out.println(<span class="string">"Hello"</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="https://i.loli.net/2020/07/09/87UYlbx3t1SQoqO.png" alt=""></p>
<p>å¤±è´¥çš„æ—¶å€™æ˜¯çº¢è‰²ï¼š<br><img src="https://i.loli.net/2020/07/09/5B3jFQMwz4D1vlL.png" alt=""></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">account</span>(</span><br><span class="line">   <span class="keyword">id</span> <span class="built_in">INT</span> PRIMARY <span class="keyword">KEY</span> AUTO_INCREMENT,</span><br><span class="line">   <span class="string">`name`</span> <span class="built_in">VARCHAR</span>(<span class="number">40</span>),</span><br><span class="line">   money <span class="built_in">FLOAT</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">account</span>(<span class="string">`name`</span>,money) <span class="keyword">VALUES</span>(<span class="string">'A'</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">account</span>(<span class="string">`name`</span>,money) <span class="keyword">VALUES</span>(<span class="string">'B'</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="keyword">account</span>(<span class="string">`name`</span>,money) <span class="keyword">VALUES</span>(<span class="string">'C'</span>,<span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//é…ç½®ä¿¡æ¯</span></span><br><span class="line">    <span class="comment">//useUnicode=true&amp;characterEncoding=utf-8 è§£å†³ä¸­æ–‡ä¹±ç </span></span><br><span class="line">    String url=<span class="string">"jdbc:mysql://localhost:3306/jdbc?useUnicode=true&amp;characterEncoding=utf-8"</span>;</span><br><span class="line">    String username = <span class="string">"root"</span>;</span><br><span class="line">    String password = <span class="string">"123456"</span>;</span><br><span class="line"></span><br><span class="line">    Connection connection = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.åŠ è½½é©±åŠ¨</span></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Class.forName(<span class="string">"com.mysql.jdbc.Driver"</span>);</span><br><span class="line">        <span class="comment">//2.è¿æ¥æ•°æ®åº“,ä»£è¡¨æ•°æ®åº“</span></span><br><span class="line">         connection = DriverManager.getConnection(url, username, password);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.é€šçŸ¥æ•°æ®åº“å¼€å¯äº‹åŠ¡,false å¼€å¯</span></span><br><span class="line">        connection.setAutoCommit(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">        String sql = <span class="string">"update account set money = money-100 where name = 'A'"</span>;</span><br><span class="line">        connection.prepareStatement(sql).executeUpdate();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ¶é€ é”™è¯¯</span></span><br><span class="line">        <span class="comment">//int i = 1/0;</span></span><br><span class="line"></span><br><span class="line">        String sql2 = <span class="string">"update account set money = money+100 where name = 'B'"</span>;</span><br><span class="line">        connection.prepareStatement(sql2).executeUpdate();</span><br><span class="line"></span><br><span class="line">        connection.commit();<span class="comment">//ä»¥ä¸Šä¸¤æ¡SQLéƒ½æ‰§è¡ŒæˆåŠŸäº†ï¼Œå°±æäº¤äº‹åŠ¡ï¼</span></span><br><span class="line">        System.out.println(<span class="string">"success"</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//å¦‚æœå‡ºç°å¼‚å¸¸ï¼Œå°±é€šçŸ¥æ•°æ®åº“å›æ»šäº‹åŠ¡</span></span><br><span class="line">            connection.rollback();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e1) &#123;</span><br><span class="line">            e1.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            connection.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="SMBMS-è¶…å¸‚ç®¡ç†é¡¹ç›®"><a href="#SMBMS-è¶…å¸‚ç®¡ç†é¡¹ç›®" class="headerlink" title="SMBMS(è¶…å¸‚ç®¡ç†é¡¹ç›®)"></a>SMBMS(è¶…å¸‚ç®¡ç†é¡¹ç›®)</h1><p>30~37é›†çš„SMBMSé¡¹ç›®å®éªŒ<br>Bç«™ç‹‚ç¥è¯´ - Eclipse - SMBMSé¡¹ç›®å®éªŒ<br><a href="https://blog.csdn.net/bell_love/article/details/106157413" target="_blank" rel="noopener">https://blog.csdn.net/bell_love/article/details/106157413</a><br>ã€‚ã€‚ã€‚</p>
</div><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">lenoard_shannon</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2020/06/19/%F0%9F%9A%B4%E2%80%8D%E2%99%80%EF%B8%8FJavaWeb/">http://yoursite.com/2020/06/19/%F0%9F%9A%B4%E2%80%8D%E2%99%80%EF%B8%8FJavaWeb/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/JAVAWEB/">JAVAWEB</a></div><div class="post_share"><div class="social-share" data-image="https://i.loli.net/2020/07/12/b9DsiyoXAjJETG1.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"/><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js"></script></div></div><div class="post-reward"><a class="reward-button button--primary button--animated"> <i class="fa fa-qrcode"></i> Donate<div class="reward-main"><ul class="reward-all"><li class="reward-item"><img class="post-qr-code__img" src="/img/wechat.jpg" alt="å¾®ä¿¡"/><div class="post-qr-code__desc">å¾®ä¿¡</div></li><li class="reward-item"><img class="post-qr-code__img" src="/img/alipay.jpg" alt="æ”¯ä»˜å¯¶"/><div class="post-qr-code__desc">æ”¯ä»˜å¯¶</div></li></ul></div></a></div><nav class="pagination_post" id="pagination"><div class="prev-post pull_left"><a href="/2020/07/12/Heap/"><img class="prev_cover" src="https://i.loli.net/2020/07/12/b9DsiyoXAjJETG1.jpg" onerror="onerror=null;src='https://i.loli.net/2020/05/06/PIiEzg4X3wlx7N9.jpg'"><div class="pagination-info"><div class="label">Previous Post</div><div class="prev_info">Heap</div></div></a></div><div class="next-post pull_right"><a href="/2020/06/16/%F0%9F%9A%A4JavaScript(%E4%B8%80)%E5%9F%BA%E7%A1%80/"><img class="next_cover" src="https://i.loli.net/2020/06/17/Qc5KExG3HgUqv6u.jpg" onerror="onerror=null;src='https://i.loli.net/2020/05/06/PIiEzg4X3wlx7N9.jpg'"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">ğŸš¤JavaScript(ä¸€)åŸºç¡€</div></div></a></div></nav></article></main><footer id="footer" style="background-image: url(https://i.loli.net/2020/06/19/x8f2crNAtXpOvUE.jpg)" data-type="photo"><div id="footer-wrap"><div class="copyright">&copy;2020 By lenoard_shannon</div><div class="framework-info"><span>Driven </span><a href="https://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme </span><a href="https://github.com/jerryc127/hexo-theme-butterfly" target="_blank" rel="noopener"><span>Butterfly</span></a></div><div class="footer_custom_text">Halo,Bonjour,Hello,Hoi,ä½ å¥½</div></div></footer></div><section class="rightside" id="rightside"><div id="rightside-config-hide"><i class="fa fa-book" id="readmode" title="Read Mode"></i><i class="fa fa-plus" id="font_plus" title="Increase font size"></i><i class="fa fa-minus" id="font_minus" title="Decrease font size"></i><a class="translate_chn_to_cht" id="translateLink" href="javascript:translatePage();" title="Traditional Chinese and Simplified Chinese Conversion" target="_self">ç¹</a><i class="darkmode fa fa-moon-o" id="darkmode" title="Dark Mode"></i></div><div id="rightside-config-show"><div id="rightside_config" title="Setting"><i class="fa fa-cog" aria-hidden="true"></i></div><i class="fa fa-list-ul close" id="mobile-toc-button" title="Table of Contents" aria-hidden="true"></i><i class="fa fa-arrow-up" id="go-up" title="Back to top" aria-hidden="true"></i></div></section><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/medium-zoom/dist/medium-zoom.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page@latest/instantpage.min.js" type="module"></script></body></html>